{
    "sourceFile": "src/pages/AuditLogs/index.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1759903981848,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1759907785623,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,353 +1,277 @@\n import React, { useState, useMemo } from 'react';\r\n import { Card } from '../../components/Card';\r\n-import { DataTable } from '../../components/DataTable';\r\n+import { FormInput } from '../../components/FormInput';\r\n+import { FormSelect } from '../../components/FormSelect';\r\n import { useApp } from '../../context/AppContext';\r\n-import { formatDate } from '../../utils/helpers';\r\n import { \r\n   FileText, \r\n+  Search, \r\n+  Filter, \r\n+  Download, \r\n+  Calendar, \r\n   User, \r\n   Activity, \r\n-  Shield, \r\n-  Database, \r\n-  Settings, \r\n   AlertTriangle, \r\n   CheckCircle, \r\n-  Clock, \r\n-  Search, \r\n-  Filter, \r\n-  Download, \r\n-  Eye, \r\n-  Calendar,\r\n+  Clock,\r\n+  Eye,\r\n+  Trash2,\r\n+  RefreshCw,\r\n+  BarChart3,\r\n   TrendingUp,\r\n   TrendingDown,\r\n+  Shield,\r\n+  Database,\r\n+  Settings,\r\n   Users,\r\n-  Lock,\r\n-  Unlock,\r\n-  Trash2,\r\n-  Edit,\r\n-  Plus,\r\n-  Minus\r\n+  Truck,\r\n+  Package,\r\n+  MapPin\r\n } from 'lucide-react';\r\n \r\n interface AuditLog {\r\n   id: string;\r\n   timestamp: string;\r\n   userId: string;\r\n   userName: string;\r\n-  userRole: string;\r\n   action: string;\r\n   resource: string;\r\n-  resourceId?: string;\r\n   details: string;\r\n   ipAddress: string;\r\n   userAgent: string;\r\n-  severity: 'info' | 'warning' | 'error' | 'critical';\r\n-  category: 'authentication' | 'data' | 'system' | 'user' | 'security';\r\n-  outcome: 'success' | 'failure' | 'partial';\r\n+  status: 'success' | 'failed' | 'warning';\r\n+  severity: 'low' | 'medium' | 'high' | 'critical';\r\n }\r\n \r\n export const AuditLogsPage: React.FC = () => {\r\n-  const { user } = useApp();\r\n-  const [filters, setFilters] = useState({\r\n-    search: '',\r\n-    category: 'all',\r\n-    severity: 'all',\r\n-    outcome: 'all',\r\n-    userRole: 'all',\r\n-    dateRange: { start: '', end: '' },\r\n-  });\r\n+  const { user, sourceRecords } = useApp();\r\n+  const [searchTerm, setSearchTerm] = useState('');\r\n+  const [filterStatus, setFilterStatus] = useState<string>('');\r\n+  const [filterSeverity, setFilterSeverity] = useState<string>('');\r\n+  const [filterDate, setFilterDate] = useState<string>('');\r\n+  const [selectedLogs, setSelectedLogs] = useState<string[]>([]);\r\n \r\n-  // Mock audit logs\r\n-  const [auditLogs, setAuditLogs] = useState<AuditLog[]>([\r\n+  // Mock audit logs data\r\n+  const auditLogs: AuditLog[] = [\r\n     {\r\n       id: '1',\r\n-      timestamp: new Date(Date.now() - 5 * 60 * 1000).toISOString(),\r\n-      userId: 'user1',\r\n-      userName: 'John Admin',\r\n-      userRole: 'admin',\r\n-      action: 'LOGIN',\r\n-      resource: 'Authentication',\r\n-      details: 'User logged in successfully',\r\n+      timestamp: '2024-01-20 15:30:45',\r\n+      userId: 'admin',\r\n+      userName: 'Admin User',\r\n+      action: 'CREATE',\r\n+      resource: 'Source Record',\r\n+      details: 'Created new pickup record for Area AC001 with 50kg miraa',\r\n       ipAddress: '192.168.1.100',\r\n-      userAgent: 'Chrome 120.0.0.0',\r\n-      severity: 'info',\r\n-      category: 'authentication',\r\n-      outcome: 'success',\r\n+      userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)',\r\n+      status: 'success',\r\n+      severity: 'medium'\r\n     },\r\n     {\r\n       id: '2',\r\n-      timestamp: new Date(Date.now() - 15 * 60 * 1000).toISOString(),\r\n-      userId: 'user2',\r\n-      userName: 'Sarah Manager',\r\n-      userRole: 'user',\r\n-      action: 'CREATE',\r\n-      resource: 'Source Record',\r\n-      resourceId: 'SR-001',\r\n-      details: 'Created new source record for AC001 pickup station',\r\n+      timestamp: '2024-01-20 14:25:12',\r\n+      userId: 'user1',\r\n+      userName: 'John Kimani',\r\n+      action: 'UPDATE',\r\n+      resource: 'Transport Log',\r\n+      details: 'Updated trip status from Loading to In Transit',\r\n       ipAddress: '192.168.1.101',\r\n-      userAgent: 'Firefox 121.0.0.0',\r\n-      severity: 'info',\r\n-      category: 'data',\r\n-      outcome: 'success',\r\n+      userAgent: 'Mozilla/5.0 (Android 10; Mobile)',\r\n+      status: 'success',\r\n+      severity: 'low'\r\n     },\r\n     {\r\n       id: '3',\r\n-      timestamp: new Date(Date.now() - 30 * 60 * 1000).toISOString(),\r\n-      userId: 'user3',\r\n-      userName: 'Mike Operator',\r\n-      userRole: 'user',\r\n-      action: 'UPDATE',\r\n-      resource: 'Transport Log',\r\n-      resourceId: 'TL-002',\r\n-      details: 'Updated transport log status from loading to in-transit',\r\n-      ipAddress: '192.168.1.102',\r\n-      userAgent: 'Safari 17.2.0',\r\n-      severity: 'info',\r\n-      category: 'data',\r\n-      outcome: 'success',\r\n+      timestamp: '2024-01-20 13:15:30',\r\n+      userId: 'admin',\r\n+      userName: 'Admin User',\r\n+      action: 'DELETE',\r\n+      resource: 'Destination Record',\r\n+      details: 'Deleted destination record for Trip #TRN001',\r\n+      ipAddress: '192.168.1.100',\r\n+      userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)',\r\n+      status: 'success',\r\n+      severity: 'high'\r\n     },\r\n     {\r\n       id: '4',\r\n-      timestamp: new Date(Date.now() - 45 * 60 * 1000).toISOString(),\r\n-      userId: 'user1',\r\n-      userName: 'John Admin',\r\n-      userRole: 'admin',\r\n-      action: 'DELETE',\r\n-      resource: 'User Session',\r\n-      resourceId: 'session-123',\r\n-      details: 'Terminated user session for security reasons',\r\n-      ipAddress: '192.168.1.100',\r\n-      userAgent: 'Chrome 120.0.0.0',\r\n-      severity: 'warning',\r\n-      category: 'security',\r\n-      outcome: 'success',\r\n+      timestamp: '2024-01-20 12:45:18',\r\n+      userId: 'user2',\r\n+      userName: 'Mary Wanjiku',\r\n+      action: 'LOGIN',\r\n+      resource: 'Authentication',\r\n+      details: 'User logged in successfully',\r\n+      ipAddress: '192.168.1.102',\r\n+      userAgent: 'Mozilla/5.0 (iPhone; CPU iPhone OS 14_0)',\r\n+      status: 'success',\r\n+      severity: 'low'\r\n     },\r\n     {\r\n       id: '5',\r\n-      timestamp: new Date(Date.now() - 60 * 60 * 1000).toISOString(),\r\n-      userId: 'user4',\r\n+      timestamp: '2024-01-20 11:30:55',\r\n+      userId: 'unknown',\r\n       userName: 'Unknown User',\r\n-      userRole: 'unknown',\r\n-      action: 'LOGIN_FAILED',\r\n+      action: 'LOGIN',\r\n       resource: 'Authentication',\r\n       details: 'Failed login attempt with invalid credentials',\r\n       ipAddress: '192.168.1.200',\r\n-      userAgent: 'Chrome 120.0.0.0',\r\n-      severity: 'warning',\r\n-      category: 'authentication',\r\n-      outcome: 'failure',\r\n+      userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)',\r\n+      status: 'failed',\r\n+      severity: 'critical'\r\n     },\r\n     {\r\n       id: '6',\r\n-      timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\r\n-      userId: 'user1',\r\n-      userName: 'John Admin',\r\n-      userRole: 'admin',\r\n-      action: 'SYSTEM_BACKUP',\r\n-      resource: 'Database',\r\n-      details: 'Initiated full system backup',\r\n+      timestamp: '2024-01-20 10:20:33',\r\n+      userId: 'admin',\r\n+      userName: 'Admin User',\r\n+      action: 'CONFIG',\r\n+      resource: 'System Settings',\r\n+      details: 'Updated system configuration: enabled maintenance mode',\r\n       ipAddress: '192.168.1.100',\r\n-      userAgent: 'Chrome 120.0.0.0',\r\n-      severity: 'info',\r\n-      category: 'system',\r\n-      outcome: 'success',\r\n+      userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)',\r\n+      status: 'success',\r\n+      severity: 'high'\r\n     },\r\n     {\r\n       id: '7',\r\n-      timestamp: new Date(Date.now() - 3 * 60 * 60 * 1000).toISOString(),\r\n-      userId: 'user2',\r\n-      userName: 'Sarah Manager',\r\n-      userRole: 'user',\r\n-      action: 'EXPORT_DATA',\r\n-      resource: 'Source Records',\r\n-      details: 'Exported 150 source records to CSV',\r\n+      timestamp: '2024-01-20 09:15:42',\r\n+      userId: 'user1',\r\n+      userName: 'John Kimani',\r\n+      action: 'VIEW',\r\n+      resource: 'Profit Reports',\r\n+      details: 'Viewed monthly profit analysis report',\r\n       ipAddress: '192.168.1.101',\r\n-      userAgent: 'Firefox 121.0.0.0',\r\n-      severity: 'info',\r\n-      category: 'data',\r\n-      outcome: 'success',\r\n+      userAgent: 'Mozilla/5.0 (Android 10; Mobile)',\r\n+      status: 'success',\r\n+      severity: 'low'\r\n     },\r\n     {\r\n       id: '8',\r\n-      timestamp: new Date(Date.now() - 4 * 60 * 60 * 1000).toISOString(),\r\n-      userId: 'user1',\r\n-      userName: 'John Admin',\r\n-      userRole: 'admin',\r\n-      action: 'CONFIG_CHANGE',\r\n-      resource: 'System Settings',\r\n-      details: 'Updated session timeout from 30 to 45 minutes',\r\n+      timestamp: '2024-01-20 08:45:27',\r\n+      userId: 'admin',\r\n+      userName: 'Admin User',\r\n+      action: 'BACKUP',\r\n+      resource: 'System Backup',\r\n+      details: 'Created manual system backup',\r\n       ipAddress: '192.168.1.100',\r\n-      userAgent: 'Chrome 120.0.0.0',\r\n-      severity: 'info',\r\n-      category: 'system',\r\n-      outcome: 'success',\r\n-    },\r\n-  ]);\r\n+      userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64)',\r\n+      status: 'success',\r\n+      severity: 'medium'\r\n+    }\r\n+  ];\r\n \r\n-  // Filter logs\r\n+  if (user?.role !== 'admin') {\r\n+    return (\r\n+      <div className=\"flex items-center justify-center h-full\">\r\n+        <Card variant=\"enhanced\" className=\"text-center p-8\">\r\n+          <AlertTriangle className=\"h-16 w-16 text-red-500 mx-auto mb-4\" />\r\n+          <h2 className=\"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-2\">Access Denied</h2>\r\n+          <p className=\"text-gray-600 dark:text-gray-400\">This page is only accessible to administrators.</p>\r\n+        </Card>\r\n+      </div>\r\n+    );\r\n+  }\r\n+\r\n+  // Filter logs based on search and filters\r\n   const filteredLogs = useMemo(() => {\r\n-    return auditLogs.filter((log) => {\r\n-      const matchesSearch = filters.search === '' || \r\n-        log.userName.toLowerCase().includes(filters.search.toLowerCase()) ||\r\n-        log.action.toLowerCase().includes(filters.search.toLowerCase()) ||\r\n-        log.resource.toLowerCase().includes(filters.search.toLowerCase()) ||\r\n-        log.details.toLowerCase().includes(filters.search.toLowerCase());\r\n-      \r\n-      const matchesCategory = filters.category === 'all' || log.category === filters.category;\r\n-      const matchesSeverity = filters.severity === 'all' || log.severity === filters.severity;\r\n-      const matchesOutcome = filters.outcome === 'all' || log.outcome === filters.outcome;\r\n-      const matchesUserRole = filters.userRole === 'all' || log.userRole === filters.userRole;\r\n-      \r\n-      const matchesDateRange = \r\n-        (filters.dateRange.start === '' || log.timestamp >= filters.dateRange.start) &&\r\n-        (filters.dateRange.end === '' || log.timestamp <= filters.dateRange.end);\r\n+    return auditLogs.filter(log => {\r\n+      const matchesSearch = searchTerm === '' || \r\n+        log.userName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+        log.action.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+        log.resource.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n+        log.details.toLowerCase().includes(searchTerm.toLowerCase());\r\n \r\n-      return matchesSearch && matchesCategory && matchesSeverity && matchesOutcome && matchesUserRole && matchesDateRange;\r\n+      const matchesStatus = filterStatus === '' || log.status === filterStatus;\r\n+      const matchesSeverity = filterSeverity === '' || log.severity === filterSeverity;\r\n+      const matchesDate = filterDate === '' || log.timestamp.startsWith(filterDate);\r\n+\r\n+      return matchesSearch && matchesStatus && matchesSeverity && matchesDate;\r\n     });\r\n-  }, [auditLogs, filters]);\r\n+  }, [auditLogs, searchTerm, filterStatus, filterSeverity, filterDate]);\r\n \r\n-  const columns = [\r\n-    {\r\n-      key: 'timestamp' as keyof AuditLog,\r\n-      label: 'Timestamp',\r\n-      render: (value: string) => formatDate(value),\r\n-      sortable: true,\r\n-    },\r\n-    {\r\n-      key: 'userName' as keyof AuditLog,\r\n-      label: 'User',\r\n-      render: (value: string, row: AuditLog) => (\r\n-        <div>\r\n-          <p className=\"font-medium text-gray-900 dark:text-gray-100\">{value}</p>\r\n-          <p className=\"text-xs text-gray-500\">{row.userRole}</p>\r\n-        </div>\r\n-      ),\r\n-      sortable: true,\r\n-    },\r\n-    {\r\n-      key: 'action' as keyof AuditLog,\r\n-      label: 'Action',\r\n-      render: (value: string, row: AuditLog) => (\r\n-        <div className=\"flex items-center space-x-2\">\r\n-          {getActionIcon(value)}\r\n-          <span className=\"font-medium text-gray-900 dark:text-gray-100\">{value}</span>\r\n-        </div>\r\n-      ),\r\n-      sortable: true,\r\n-    },\r\n-    {\r\n-      key: 'resource' as keyof AuditLog,\r\n-      label: 'Resource',\r\n-      render: (value: string, row: AuditLog) => (\r\n-        <div>\r\n-          <p className=\"font-medium text-gray-900 dark:text-gray-100\">{value}</p>\r\n-          {row.resourceId && (\r\n-            <p className=\"text-xs text-gray-500\">ID: {row.resourceId}</p>\r\n-          )}\r\n-        </div>\r\n-      ),\r\n-      sortable: true,\r\n-    },\r\n-    {\r\n-      key: 'severity' as keyof AuditLog,\r\n-      label: 'Severity',\r\n-      render: (value: string) => (\r\n-        <span className={`px-2 py-1 rounded-full text-xs font-medium ${\r\n-          value === 'critical' ? 'bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200' :\r\n-          value === 'error' ? 'bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200' :\r\n-          value === 'warning' ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-200' :\r\n-          'bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-200'\r\n-        }`}>\r\n-          {value.charAt(0).toUpperCase() + value.slice(1)}\r\n-        </span>\r\n-      ),\r\n-      sortable: true,\r\n-    },\r\n-    {\r\n-      key: 'outcome' as keyof AuditLog,\r\n-      label: 'Outcome',\r\n-      render: (value: string) => (\r\n-        <span className={`px-2 py-1 rounded-full text-xs font-medium ${\r\n-          value === 'success' ? 'bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-200' :\r\n-          value === 'failure' ? 'bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200' :\r\n-          'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-200'\r\n-        }`}>\r\n-          {value.charAt(0).toUpperCase() + value.slice(1)}\r\n-        </span>\r\n-      ),\r\n-      sortable: true,\r\n-    },\r\n-    {\r\n-      key: 'details' as keyof AuditLog,\r\n-      label: 'Details',\r\n-      render: (value: string) => (\r\n-        <p className=\"text-sm text-gray-600 dark:text-gray-400 max-w-xs truncate\" title={value}>\r\n-          {value}\r\n-        </p>\r\n-      ),\r\n-    },\r\n-  ];\r\n-\r\n-  const getActionIcon = (action: string) => {\r\n-    switch (action.toLowerCase()) {\r\n-      case 'login':\r\n-        return <Lock className=\"h-4 w-4 text-green-500\" />;\r\n-      case 'logout':\r\n-        return <Unlock className=\"h-4 w-4 text-gray-500\" />;\r\n-      case 'create':\r\n-        return <Plus className=\"h-4 w-4 text-blue-500\" />;\r\n-      case 'update':\r\n-        return <Edit className=\"h-4 w-4 text-yellow-500\" />;\r\n-      case 'delete':\r\n-        return <Trash2 className=\"h-4 w-4 text-red-500\" />;\r\n-      case 'export':\r\n-        return <Download className=\"h-4 w-4 text-purple-500\" />;\r\n-      case 'import':\r\n-        return <Upload className=\"h-4 w-4 text-indigo-500\" />;\r\n-      case 'backup':\r\n-        return <Database className=\"h-4 w-4 text-green-500\" />;\r\n-      case 'config_change':\r\n-        return <Settings className=\"h-4 w-4 text-orange-500\" />;\r\n-      default:\r\n-        return <Activity className=\"h-4 w-4 text-gray-500\" />;\r\n-    }\r\n-  };\r\n-\r\n-  // Calculate summary statistics\r\n-  const summaryStats = useMemo(() => {\r\n+  // Calculate statistics\r\n+  const stats = useMemo(() => {\r\n     const totalLogs = auditLogs.length;\r\n-    const todayLogs = auditLogs.filter(log => {\r\n-      const logDate = new Date(log.timestamp);\r\n-      const today = new Date();\r\n-      return logDate.toDateString() === today.toDateString();\r\n-    }).length;\r\n-    \r\n-    const failedLogins = auditLogs.filter(log => \r\n-      log.action === 'LOGIN_FAILED' && log.outcome === 'failure'\r\n-    ).length;\r\n-    \r\n-    const adminActions = auditLogs.filter(log => log.userRole === 'admin').length;\r\n-    const criticalEvents = auditLogs.filter(log => log.severity === 'critical').length;\r\n+    const successLogs = auditLogs.filter(log => log.status === 'success').length;\r\n+    const failedLogs = auditLogs.filter(log => log.status === 'failed').length;\r\n+    const criticalLogs = auditLogs.filter(log => log.severity === 'critical').length;\r\n+    const todayLogs = auditLogs.filter(log => log.timestamp.startsWith('2024-01-20')).length;\r\n \r\n     return {\r\n       totalLogs,\r\n+      successLogs,\r\n+      failedLogs,\r\n+      criticalLogs,\r\n       todayLogs,\r\n-      failedLogins,\r\n-      adminActions,\r\n-      criticalEvents,\r\n+      successRate: totalLogs > 0 ? Math.round((successLogs / totalLogs) * 100) : 0\r\n     };\r\n   }, [auditLogs]);\r\n \r\n+  const getStatusIcon = (status: string) => {\r\n+    switch (status) {\r\n+      case 'success': return <CheckCircle className=\"h-4 w-4 text-green-500\" />;\r\n+      case 'failed': return <AlertTriangle className=\"h-4 w-4 text-red-500\" />;\r\n+      case 'warning': return <AlertTriangle className=\"h-4 w-4 text-yellow-500\" />;\r\n+      default: return <Activity className=\"h-4 w-4 text-gray-500\" />;\r\n+    }\r\n+  };\r\n+\r\n+  const getSeverityColor = (severity: string) => {\r\n+    switch (severity) {\r\n+      case 'critical': return 'bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200';\r\n+      case 'high': return 'bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-200';\r\n+      case 'medium': return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-200';\r\n+      case 'low': return 'bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-200';\r\n+      default: return 'bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-200';\r\n+    }\r\n+  };\r\n+\r\n+  const getActionIcon = (action: string) => {\r\n+    switch (action) {\r\n+      case 'CREATE': return <Plus className=\"h-4 w-4 text-green-600\" />;\r\n+      case 'UPDATE': return <Edit className=\"h-4 w-4 text-blue-600\" />;\r\n+      case 'DELETE': return <Trash2 className=\"h-4 w-4 text-red-600\" />;\r\n+      case 'LOGIN': return <User className=\"h-4 w-4 text-purple-600\" />;\r\n+      case 'VIEW': return <Eye className=\"h-4 w-4 text-gray-600\" />;\r\n+      case 'CONFIG': return <Settings className=\"h-4 w-4 text-orange-600\" />;\r\n+      case 'BACKUP': return <Database className=\"h-4 w-4 text-indigo-600\" />;\r\n+      default: return <Activity className=\"h-4 w-4 text-gray-600\" />;\r\n+    }\r\n+  };\r\n+\r\n+  const handleSelectLog = (logId: string) => {\r\n+    setSelectedLogs(prev => \r\n+      prev.includes(logId) \r\n+        ? prev.filter(id => id !== logId)\r\n+        : [...prev, logId]\r\n+    );\r\n+  };\r\n+\r\n+  const handleSelectAll = () => {\r\n+    if (selectedLogs.length === filteredLogs.length) {\r\n+      setSelectedLogs([]);\r\n+    } else {\r\n+      setSelectedLogs(filteredLogs.map(log => log.id));\r\n+    }\r\n+  };\r\n+\r\n   const handleExportLogs = () => {\r\n-    const data = {\r\n-      auditLogs: filteredLogs,\r\n-      exportedAt: new Date().toISOString(),\r\n-      exportedBy: user?.name || 'Unknown',\r\n-      filters: filters,\r\n+    const logsToExport = selectedLogs.length > 0 \r\n+      ? filteredLogs.filter(log => selectedLogs.includes(log.id))\r\n+      : filteredLogs;\r\n+\r\n+    const exportData = {\r\n+      auditLogs: logsToExport,\r\n+      exportDate: new Date().toISOString(),\r\n+      filters: {\r\n+        searchTerm,\r\n+        filterStatus,\r\n+        filterSeverity,\r\n+        filterDate\r\n+      }\r\n     };\r\n-    \r\n-    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });\r\n+\r\n+    const blob = new Blob([JSON.stringify(exportData, null, 2)], { type: 'application/json' });\r\n     const url = URL.createObjectURL(blob);\r\n     const a = document.createElement('a');\r\n     a.href = url;\r\n     a.download = `audit-logs-${new Date().toISOString().split('T')[0]}.json`;\r\n@@ -356,246 +280,244 @@\n     document.body.removeChild(a);\r\n     URL.revokeObjectURL(url);\r\n   };\r\n \r\n-  if (user?.role !== 'admin') {\r\n-    return (\r\n-      <div className=\"flex items-center justify-center h-full\">\r\n-        <p className=\"text-xl text-red-500\">Access Denied: Admins only.</p>\r\n-      </div>\r\n-    );\r\n-  }\r\n-\r\n   return (\r\n-    <div className=\"space-y-6\">\r\n+    <div className=\"animate-fade-in\">\r\n       {/* Header */}\r\n-      <div className=\"flex items-center justify-between\">\r\n-        <div>\r\n-          <h1 className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">Audit Logs</h1>\r\n-          <p className=\"text-gray-600 dark:text-gray-400 mt-1\">\r\n-            Comprehensive activity tracking and security monitoring\r\n-          </p>\r\n+      <div className=\"mb-6\">\r\n+        <div className=\"flex items-center justify-between\">\r\n+          <div>\r\n+            <h1 className=\"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2\">Audit Logs</h1>\r\n+            <p className=\"text-lg text-gray-600 dark:text-gray-400\">\r\n+              System activity tracking and compliance monitoring\r\n+            </p>\r\n+          </div>\r\n+          <div className=\"flex items-center space-x-4\">\r\n+            <div className=\"text-right\">\r\n+              <div className=\"flex items-center space-x-2\">\r\n+                <div className=\"w-3 h-3 bg-green-500 rounded-full animate-pulse\"></div>\r\n+                <span className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Logging Active</span>\r\n+              </div>\r\n+              <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\r\n+                {stats.totalLogs} total entries\r\n+              </p>\r\n+            </div>\r\n+          </div>\r\n         </div>\r\n-        \r\n-        <div className=\"flex items-center space-x-3\">\r\n-          <button\r\n-            onClick={handleExportLogs}\r\n-            className=\"flex items-center space-x-2 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700\"\r\n-          >\r\n-            <Download className=\"h-4 w-4\" />\r\n-            <span>Export Logs</span>\r\n-          </button>\r\n-        </div>\r\n       </div>\r\n \r\n-      {/* Summary Cards */}\r\n-      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4\">\r\n-        <Card className=\"p-4\">\r\n+      {/* Statistics Cards */}\r\n+      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8\">\r\n+        <Card variant=\"enhanced\">\r\n           <div className=\"flex items-center justify-between\">\r\n-            <div className=\"p-2 rounded-lg bg-blue-500\">\r\n-              <FileText className=\"h-4 w-4 text-white\" />\r\n+            <div>\r\n+              <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Total Logs</p>\r\n+              <p className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">{stats.totalLogs}</p>\r\n             </div>\r\n-            <div className=\"text-right\">\r\n-              <p className=\"text-xs font-medium text-gray-600 dark:text-gray-400\">Total Logs</p>\r\n-              <p className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">{summaryStats.totalLogs}</p>\r\n-            </div>\r\n+            <FileText className=\"h-8 w-8 text-blue-500\" />\r\n           </div>\r\n         </Card>\r\n \r\n-        <Card className=\"p-4\">\r\n+        <Card variant=\"enhanced\">\r\n           <div className=\"flex items-center justify-between\">\r\n-            <div className=\"p-2 rounded-lg bg-green-500\">\r\n-              <Calendar className=\"h-4 w-4 text-white\" />\r\n+            <div>\r\n+              <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Success Rate</p>\r\n+              <p className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">{stats.successRate}%</p>\r\n             </div>\r\n-            <div className=\"text-right\">\r\n-              <p className=\"text-xs font-medium text-gray-600 dark:text-gray-400\">Today</p>\r\n-              <p className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">{summaryStats.todayLogs}</p>\r\n-            </div>\r\n+            <TrendingUp className=\"h-8 w-8 text-green-500\" />\r\n           </div>\r\n         </Card>\r\n \r\n-        <Card className=\"p-4\">\r\n+        <Card variant=\"enhanced\">\r\n           <div className=\"flex items-center justify-between\">\r\n-            <div className=\"p-2 rounded-lg bg-red-500\">\r\n-              <AlertTriangle className=\"h-4 w-4 text-white\" />\r\n+            <div>\r\n+              <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Failed Actions</p>\r\n+              <p className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">{stats.failedLogs}</p>\r\n             </div>\r\n-            <div className=\"text-right\">\r\n-              <p className=\"text-xs font-medium text-gray-600 dark:text-gray-400\">Failed Logins</p>\r\n-              <p className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">{summaryStats.failedLogins}</p>\r\n-            </div>\r\n+            <AlertTriangle className=\"h-8 w-8 text-red-500\" />\r\n           </div>\r\n         </Card>\r\n \r\n-        <Card className=\"p-4\">\r\n+        <Card variant=\"enhanced\">\r\n           <div className=\"flex items-center justify-between\">\r\n-            <div className=\"p-2 rounded-lg bg-purple-500\">\r\n-              <Shield className=\"h-4 w-4 text-white\" />\r\n+            <div>\r\n+              <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Critical Events</p>\r\n+              <p className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">{stats.criticalLogs}</p>\r\n             </div>\r\n-            <div className=\"text-right\">\r\n-              <p className=\"text-xs font-medium text-gray-600 dark:text-gray-400\">Admin Actions</p>\r\n-              <p className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">{summaryStats.adminActions}</p>\r\n-            </div>\r\n+            <Shield className=\"h-8 w-8 text-orange-500\" />\r\n           </div>\r\n         </Card>\r\n \r\n-        <Card className=\"p-4\">\r\n+        <Card variant=\"enhanced\">\r\n           <div className=\"flex items-center justify-between\">\r\n-            <div className=\"p-2 rounded-lg bg-orange-500\">\r\n-              <Activity className=\"h-4 w-4 text-white\" />\r\n+            <div>\r\n+              <p className=\"text-sm font-medium text-gray-600 dark:text-gray-400\">Today's Activity</p>\r\n+              <p className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">{stats.todayLogs}</p>\r\n             </div>\r\n-            <div className=\"text-right\">\r\n-              <p className=\"text-xs font-medium text-gray-600 dark:text-gray-400\">Critical Events</p>\r\n-              <p className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">{summaryStats.criticalEvents}</p>\r\n-            </div>\r\n+            <Calendar className=\"h-8 w-8 text-purple-500\" />\r\n           </div>\r\n         </Card>\r\n       </div>\r\n \r\n-      {/* Filters */}\r\n-      <Card className=\"p-4\">\r\n-        <div className=\"flex items-center space-x-4 mb-4\">\r\n-          <Filter className=\"h-5 w-5 text-gray-500\" />\r\n-          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">Filters</h3>\r\n-        </div>\r\n-        \r\n-        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4\">\r\n-          <div className=\"relative\">\r\n-            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n-            <input\r\n-              type=\"text\"\r\n-              placeholder=\"Search logs...\"\r\n-              value={filters.search}\r\n-              onChange={(e) => setFilters({ ...filters, search: e.target.value })}\r\n-              className=\"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-bright-green focus:border-bright-green\"\r\n+      {/* Filters and Actions */}\r\n+      <Card variant=\"enhanced\" className=\"mb-6\">\r\n+        <div className=\"flex flex-col lg:flex-row gap-4 items-start lg:items-center justify-between\">\r\n+          <div className=\"flex flex-col sm:flex-row gap-4 flex-1\">\r\n+            <div className=\"relative flex-1\">\r\n+              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n+              <input\r\n+                type=\"text\"\r\n+                placeholder=\"Search logs...\"\r\n+                value={searchTerm}\r\n+                onChange={(e) => setSearchTerm(e.target.value)}\r\n+                className=\"pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-bright-green focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 w-full\"\r\n+              />\r\n+            </div>\r\n+\r\n+            <FormSelect\r\n+              label=\"\"\r\n+              value={filterStatus}\r\n+              onChange={(value) => setFilterStatus(value as string)}\r\n+              options={[\r\n+                { value: '', label: 'All Status' },\r\n+                { value: 'success', label: 'Success' },\r\n+                { value: 'failed', label: 'Failed' },\r\n+                { value: 'warning', label: 'Warning' },\r\n+              ]}\r\n+              className=\"w-full sm:w-40\"\r\n             />\r\n-          </div>\r\n-          \r\n-          <select\r\n-            value={filters.category}\r\n-            onChange={(e) => setFilters({ ...filters, category: e.target.value })}\r\n-            className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-bright-green focus:border-bright-green\"\r\n-          >\r\n-            <option value=\"all\">All Categories</option>\r\n-            <option value=\"authentication\">Authentication</option>\r\n-            <option value=\"data\">Data Operations</option>\r\n-            <option value=\"system\">System</option>\r\n-            <option value=\"user\">User Management</option>\r\n-            <option value=\"security\">Security</option>\r\n-          </select>\r\n-          \r\n-          <select\r\n-            value={filters.severity}\r\n-            onChange={(e) => setFilters({ ...filters, severity: e.target.value })}\r\n-            className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-bright-green focus:border-bright-green\"\r\n-          >\r\n-            <option value=\"all\">All Severity</option>\r\n-            <option value=\"critical\">Critical</option>\r\n-            <option value=\"error\">Error</option>\r\n-            <option value=\"warning\">Warning</option>\r\n-            <option value=\"info\">Info</option>\r\n-          </select>\r\n-          \r\n-          <select\r\n-            value={filters.outcome}\r\n-            onChange={(e) => setFilters({ ...filters, outcome: e.target.value })}\r\n-            className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-bright-green focus:border-bright-green\"\r\n-          >\r\n-            <option value=\"all\">All Outcomes</option>\r\n-            <option value=\"success\">Success</option>\r\n-            <option value=\"failure\">Failure</option>\r\n-            <option value=\"partial\">Partial</option>\r\n-          </select>\r\n-          \r\n-          <select\r\n-            value={filters.userRole}\r\n-            onChange={(e) => setFilters({ ...filters, userRole: e.target.value })}\r\n-            className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-bright-green focus:border-bright-green\"\r\n-          >\r\n-            <option value=\"all\">All Roles</option>\r\n-            <option value=\"admin\">Admin</option>\r\n-            <option value=\"user\">User</option>\r\n-            <option value=\"unknown\">Unknown</option>\r\n-          </select>\r\n-          \r\n-          <div className=\"flex space-x-2\">\r\n-            <input\r\n-              type=\"date\"\r\n-              value={filters.dateRange.start}\r\n-              onChange={(e) => setFilters({ ...filters, dateRange: { ...filters.dateRange, start: e.target.value } })}\r\n-              className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-bright-green focus:border-bright-green\"\r\n+\r\n+            <FormSelect\r\n+              label=\"\"\r\n+              value={filterSeverity}\r\n+              onChange={(value) => setFilterSeverity(value as string)}\r\n+              options={[\r\n+                { value: '', label: 'All Severity' },\r\n+                { value: 'low', label: 'Low' },\r\n+                { value: 'medium', label: 'Medium' },\r\n+                { value: 'high', label: 'High' },\r\n+                { value: 'critical', label: 'Critical' },\r\n+              ]}\r\n+              className=\"w-full sm:w-40\"\r\n             />\r\n-            <input\r\n+\r\n+            <FormInput\r\n+              label=\"\"\r\n               type=\"date\"\r\n-              value={filters.dateRange.end}\r\n-              onChange={(e) => setFilters({ ...filters, dateRange: { ...filters.dateRange, end: e.target.value } })}\r\n-              className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-bright-green focus:border-bright-green\"\r\n+              value={filterDate}\r\n+              onChange={(value) => setFilterDate(value as string)}\r\n+              className=\"w-full sm:w-40\"\r\n             />\r\n           </div>\r\n+\r\n+          <div className=\"flex items-center space-x-2\">\r\n+            <button\r\n+              onClick={handleExportLogs}\r\n+              className=\"btn-secondary flex items-center space-x-2\"\r\n+            >\r\n+              <Download className=\"h-4 w-4\" />\r\n+              <span>Export</span>\r\n+            </button>\r\n+            <button className=\"btn-primary flex items-center space-x-2\">\r\n+              <RefreshCw className=\"h-4 w-4\" />\r\n+              <span>Refresh</span>\r\n+            </button>\r\n+          </div>\r\n         </div>\r\n       </Card>\r\n \r\n-      {/* Data Table */}\r\n-      <Card className=\"p-6\">\r\n-        <DataTable\r\n-          data={filteredLogs}\r\n-          columns={columns}\r\n-          emptyMessage=\"No audit logs found matching the current filters.\"\r\n-          actions={[\r\n-            {\r\n-              label: 'View Details',\r\n-              icon: Eye,\r\n-              onClick: (log: AuditLog) => {\r\n-                alert(`Log Details:\\n\\nUser: ${log.userName}\\nAction: ${log.action}\\nResource: ${log.resource}\\nDetails: ${log.details}\\nIP: ${log.ipAddress}\\nTime: ${formatDate(log.timestamp)}`);\r\n-              },\r\n-            },\r\n-          ]}\r\n-        />\r\n-      </Card>\r\n+      {/* Audit Logs Table */}\r\n+      <Card variant=\"enhanced\">\r\n+        <div className=\"overflow-x-auto\">\r\n+          <table className=\"w-full\">\r\n+            <thead>\r\n+              <tr className=\"border-b border-gray-200 dark:border-gray-700\">\r\n+                <th className=\"text-left py-3 px-4 font-medium text-gray-700 dark:text-gray-300\">\r\n+                  <input\r\n+                    type=\"checkbox\"\r\n+                    checked={selectedLogs.length === filteredLogs.length && filteredLogs.length > 0}\r\n+                    onChange={handleSelectAll}\r\n+                    className=\"form-checkbox h-4 w-4 text-bright-green rounded\"\r\n+                  />\r\n+                </th>\r\n+                <th className=\"text-left py-3 px-4 font-medium text-gray-700 dark:text-gray-300\">Timestamp</th>\r\n+                <th className=\"text-left py-3 px-4 font-medium text-gray-700 dark:text-gray-300\">User</th>\r\n+                <th className=\"text-left py-3 px-4 font-medium text-gray-700 dark:text-gray-300\">Action</th>\r\n+                <th className=\"text-left py-3 px-4 font-medium text-gray-700 dark:text-gray-300\">Resource</th>\r\n+                <th className=\"text-left py-3 px-4 font-medium text-gray-700 dark:text-gray-300\">Details</th>\r\n+                <th className=\"text-left py-3 px-4 font-medium text-gray-700 dark:text-gray-300\">Status</th>\r\n+                <th className=\"text-left py-3 px-4 font-medium text-gray-700 dark:text-gray-300\">Severity</th>\r\n+                <th className=\"text-left py-3 px-4 font-medium text-gray-700 dark:text-gray-300\">IP Address</th>\r\n+              </tr>\r\n+            </thead>\r\n+            <tbody>\r\n+              {filteredLogs.map((log) => (\r\n+                <tr key={log.id} className=\"border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800\">\r\n+                  <td className=\"py-3 px-4\">\r\n+                    <input\r\n+                      type=\"checkbox\"\r\n+                      checked={selectedLogs.includes(log.id)}\r\n+                      onChange={() => handleSelectLog(log.id)}\r\n+                      className=\"form-checkbox h-4 w-4 text-bright-green rounded\"\r\n+                    />\r\n+                  </td>\r\n+                  <td className=\"py-3 px-4 text-sm text-gray-600 dark:text-gray-400\">\r\n+                    <div className=\"flex items-center space-x-2\">\r\n+                      <Clock className=\"h-4 w-4\" />\r\n+                      <span>{log.timestamp}</span>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"py-3 px-4\">\r\n+                    <div className=\"flex items-center space-x-2\">\r\n+                      <User className=\"h-4 w-4 text-gray-400\" />\r\n+                      <div>\r\n+                        <p className=\"font-medium text-gray-900 dark:text-gray-100\">{log.userName}</p>\r\n+                        <p className=\"text-sm text-gray-500 dark:text-gray-400\">{log.userId}</p>\r\n+                      </div>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"py-3 px-4\">\r\n+                    <div className=\"flex items-center space-x-2\">\r\n+                      {getActionIcon(log.action)}\r\n+                      <span className=\"font-medium text-gray-900 dark:text-gray-100\">{log.action}</span>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"py-3 px-4 text-sm text-gray-600 dark:text-gray-400\">{log.resource}</td>\r\n+                  <td className=\"py-3 px-4 text-sm text-gray-600 dark:text-gray-400 max-w-xs truncate\">{log.details}</td>\r\n+                  <td className=\"py-3 px-4\">\r\n+                    <div className=\"flex items-center space-x-2\">\r\n+                      {getStatusIcon(log.status)}\r\n+                      <span className={`px-2 py-1 rounded-full text-xs font-medium ${\r\n+                        log.status === 'success' ? 'bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-200' :\r\n+                        log.status === 'failed' ? 'bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200' :\r\n+                        'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-200'\r\n+                      }`}>\r\n+                        {log.status}\r\n+                      </span>\r\n+                    </div>\r\n+                  </td>\r\n+                  <td className=\"py-3 px-4\">\r\n+                    <span className={`px-2 py-1 rounded-full text-xs font-medium ${getSeverityColor(log.severity)}`}>\r\n+                      {log.severity}\r\n+                    </span>\r\n+                  </td>\r\n+                  <td className=\"py-3 px-4 text-sm text-gray-600 dark:text-gray-400\">{log.ipAddress}</td>\r\n+                </tr>\r\n+              ))}\r\n+            </tbody>\r\n+          </table>\r\n \r\n-      {/* Activity Trends */}\r\n-      <Card className=\"p-6\">\r\n-        <div className=\"flex items-center justify-between mb-6\">\r\n-          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">Activity Trends</h3>\r\n-          <TrendingUp className=\"h-5 w-5 text-gray-500\" />\r\n-        </div>\r\n-        \r\n-        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n-          <div className=\"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg\">\r\n-            <div className=\"flex items-center justify-between mb-2\">\r\n-              <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">Login Attempts</span>\r\n-              <TrendingUp className=\"h-4 w-4 text-green-500\" />\r\n+          {filteredLogs.length === 0 && (\r\n+            <div className=\"text-center py-12\">\r\n+              <FileText className=\"h-16 w-16 text-gray-400 mx-auto mb-4\" />\r\n+              <h3 className=\"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2\">No logs found</h3>\r\n+              <p className=\"text-gray-600 dark:text-gray-400\">\r\n+                Try adjusting your search criteria or filters.\r\n+              </p>\r\n             </div>\r\n-            <p className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">24</p>\r\n-            <p className=\"text-xs text-gray-500\">+12% from yesterday</p>\r\n-          </div>\r\n-          \r\n-          <div className=\"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg\">\r\n-            <div className=\"flex items-center justify-between mb-2\">\r\n-              <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">Data Operations</span>\r\n-              <TrendingUp className=\"h-4 w-4 text-blue-500\" />\r\n-            </div>\r\n-            <p className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">156</p>\r\n-            <p className=\"text-xs text-gray-500\">+8% from yesterday</p>\r\n-          </div>\r\n-          \r\n-          <div className=\"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg\">\r\n-            <div className=\"flex items-center justify-between mb-2\">\r\n-              <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">System Events</span>\r\n-              <TrendingDown className=\"h-4 w-4 text-red-500\" />\r\n-            </div>\r\n-            <p className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">8</p>\r\n-            <p className=\"text-xs text-gray-500\">-3% from yesterday</p>\r\n-          </div>\r\n-          \r\n-          <div className=\"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg\">\r\n-            <div className=\"flex items-center justify-between mb-2\">\r\n-              <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">Security Events</span>\r\n-              <Activity className=\"h-4 w-4 text-yellow-500\" />\r\n-            </div>\r\n-            <p className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">3</p>\r\n-            <p className=\"text-xs text-gray-500\">No change</p>\r\n-          </div>\r\n+          )}\r\n         </div>\r\n       </Card>\r\n     </div>\r\n   );\r\n-};\r\n+};\n\\ No newline at end of file\n"
                },
                {
                    "date": 1759907898811,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,9 +5,8 @@\n import { useApp } from '../../context/AppContext';\r\n import { \r\n   FileText, \r\n   Search, \r\n-  Filter, \r\n   Download, \r\n   Calendar, \r\n   User, \r\n   Activity, \r\n@@ -16,18 +15,14 @@\n   Clock,\r\n   Eye,\r\n   Trash2,\r\n   RefreshCw,\r\n-  BarChart3,\r\n   TrendingUp,\r\n-  TrendingDown,\r\n   Shield,\r\n   Database,\r\n   Settings,\r\n-  Users,\r\n-  Truck,\r\n-  Package,\r\n-  MapPin\r\n+  Plus,\r\n+  Edit\r\n } from 'lucide-react';\r\n \r\n interface AuditLog {\r\n   id: string;\r\n@@ -43,9 +38,9 @@\n   severity: 'low' | 'medium' | 'high' | 'critical';\r\n }\r\n \r\n export const AuditLogsPage: React.FC = () => {\r\n-  const { user, sourceRecords } = useApp();\r\n+  const { user } = useApp();\r\n   const [searchTerm, setSearchTerm] = useState('');\r\n   const [filterStatus, setFilterStatus] = useState<string>('');\r\n   const [filterSeverity, setFilterSeverity] = useState<string>('');\r\n   const [filterDate, setFilterDate] = useState<string>('');\r\n"
                }
            ],
            "date": 1759903981848,
            "name": "Commit-0",
            "content": "import React, { useState, useMemo } from 'react';\r\nimport { Card } from '../../components/Card';\r\nimport { DataTable } from '../../components/DataTable';\r\nimport { useApp } from '../../context/AppContext';\r\nimport { formatDate } from '../../utils/helpers';\r\nimport { \r\n  FileText, \r\n  User, \r\n  Activity, \r\n  Shield, \r\n  Database, \r\n  Settings, \r\n  AlertTriangle, \r\n  CheckCircle, \r\n  Clock, \r\n  Search, \r\n  Filter, \r\n  Download, \r\n  Eye, \r\n  Calendar,\r\n  TrendingUp,\r\n  TrendingDown,\r\n  Users,\r\n  Lock,\r\n  Unlock,\r\n  Trash2,\r\n  Edit,\r\n  Plus,\r\n  Minus\r\n} from 'lucide-react';\r\n\r\ninterface AuditLog {\r\n  id: string;\r\n  timestamp: string;\r\n  userId: string;\r\n  userName: string;\r\n  userRole: string;\r\n  action: string;\r\n  resource: string;\r\n  resourceId?: string;\r\n  details: string;\r\n  ipAddress: string;\r\n  userAgent: string;\r\n  severity: 'info' | 'warning' | 'error' | 'critical';\r\n  category: 'authentication' | 'data' | 'system' | 'user' | 'security';\r\n  outcome: 'success' | 'failure' | 'partial';\r\n}\r\n\r\nexport const AuditLogsPage: React.FC = () => {\r\n  const { user } = useApp();\r\n  const [filters, setFilters] = useState({\r\n    search: '',\r\n    category: 'all',\r\n    severity: 'all',\r\n    outcome: 'all',\r\n    userRole: 'all',\r\n    dateRange: { start: '', end: '' },\r\n  });\r\n\r\n  // Mock audit logs\r\n  const [auditLogs, setAuditLogs] = useState<AuditLog[]>([\r\n    {\r\n      id: '1',\r\n      timestamp: new Date(Date.now() - 5 * 60 * 1000).toISOString(),\r\n      userId: 'user1',\r\n      userName: 'John Admin',\r\n      userRole: 'admin',\r\n      action: 'LOGIN',\r\n      resource: 'Authentication',\r\n      details: 'User logged in successfully',\r\n      ipAddress: '192.168.1.100',\r\n      userAgent: 'Chrome 120.0.0.0',\r\n      severity: 'info',\r\n      category: 'authentication',\r\n      outcome: 'success',\r\n    },\r\n    {\r\n      id: '2',\r\n      timestamp: new Date(Date.now() - 15 * 60 * 1000).toISOString(),\r\n      userId: 'user2',\r\n      userName: 'Sarah Manager',\r\n      userRole: 'user',\r\n      action: 'CREATE',\r\n      resource: 'Source Record',\r\n      resourceId: 'SR-001',\r\n      details: 'Created new source record for AC001 pickup station',\r\n      ipAddress: '192.168.1.101',\r\n      userAgent: 'Firefox 121.0.0.0',\r\n      severity: 'info',\r\n      category: 'data',\r\n      outcome: 'success',\r\n    },\r\n    {\r\n      id: '3',\r\n      timestamp: new Date(Date.now() - 30 * 60 * 1000).toISOString(),\r\n      userId: 'user3',\r\n      userName: 'Mike Operator',\r\n      userRole: 'user',\r\n      action: 'UPDATE',\r\n      resource: 'Transport Log',\r\n      resourceId: 'TL-002',\r\n      details: 'Updated transport log status from loading to in-transit',\r\n      ipAddress: '192.168.1.102',\r\n      userAgent: 'Safari 17.2.0',\r\n      severity: 'info',\r\n      category: 'data',\r\n      outcome: 'success',\r\n    },\r\n    {\r\n      id: '4',\r\n      timestamp: new Date(Date.now() - 45 * 60 * 1000).toISOString(),\r\n      userId: 'user1',\r\n      userName: 'John Admin',\r\n      userRole: 'admin',\r\n      action: 'DELETE',\r\n      resource: 'User Session',\r\n      resourceId: 'session-123',\r\n      details: 'Terminated user session for security reasons',\r\n      ipAddress: '192.168.1.100',\r\n      userAgent: 'Chrome 120.0.0.0',\r\n      severity: 'warning',\r\n      category: 'security',\r\n      outcome: 'success',\r\n    },\r\n    {\r\n      id: '5',\r\n      timestamp: new Date(Date.now() - 60 * 60 * 1000).toISOString(),\r\n      userId: 'user4',\r\n      userName: 'Unknown User',\r\n      userRole: 'unknown',\r\n      action: 'LOGIN_FAILED',\r\n      resource: 'Authentication',\r\n      details: 'Failed login attempt with invalid credentials',\r\n      ipAddress: '192.168.1.200',\r\n      userAgent: 'Chrome 120.0.0.0',\r\n      severity: 'warning',\r\n      category: 'authentication',\r\n      outcome: 'failure',\r\n    },\r\n    {\r\n      id: '6',\r\n      timestamp: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\r\n      userId: 'user1',\r\n      userName: 'John Admin',\r\n      userRole: 'admin',\r\n      action: 'SYSTEM_BACKUP',\r\n      resource: 'Database',\r\n      details: 'Initiated full system backup',\r\n      ipAddress: '192.168.1.100',\r\n      userAgent: 'Chrome 120.0.0.0',\r\n      severity: 'info',\r\n      category: 'system',\r\n      outcome: 'success',\r\n    },\r\n    {\r\n      id: '7',\r\n      timestamp: new Date(Date.now() - 3 * 60 * 60 * 1000).toISOString(),\r\n      userId: 'user2',\r\n      userName: 'Sarah Manager',\r\n      userRole: 'user',\r\n      action: 'EXPORT_DATA',\r\n      resource: 'Source Records',\r\n      details: 'Exported 150 source records to CSV',\r\n      ipAddress: '192.168.1.101',\r\n      userAgent: 'Firefox 121.0.0.0',\r\n      severity: 'info',\r\n      category: 'data',\r\n      outcome: 'success',\r\n    },\r\n    {\r\n      id: '8',\r\n      timestamp: new Date(Date.now() - 4 * 60 * 60 * 1000).toISOString(),\r\n      userId: 'user1',\r\n      userName: 'John Admin',\r\n      userRole: 'admin',\r\n      action: 'CONFIG_CHANGE',\r\n      resource: 'System Settings',\r\n      details: 'Updated session timeout from 30 to 45 minutes',\r\n      ipAddress: '192.168.1.100',\r\n      userAgent: 'Chrome 120.0.0.0',\r\n      severity: 'info',\r\n      category: 'system',\r\n      outcome: 'success',\r\n    },\r\n  ]);\r\n\r\n  // Filter logs\r\n  const filteredLogs = useMemo(() => {\r\n    return auditLogs.filter((log) => {\r\n      const matchesSearch = filters.search === '' || \r\n        log.userName.toLowerCase().includes(filters.search.toLowerCase()) ||\r\n        log.action.toLowerCase().includes(filters.search.toLowerCase()) ||\r\n        log.resource.toLowerCase().includes(filters.search.toLowerCase()) ||\r\n        log.details.toLowerCase().includes(filters.search.toLowerCase());\r\n      \r\n      const matchesCategory = filters.category === 'all' || log.category === filters.category;\r\n      const matchesSeverity = filters.severity === 'all' || log.severity === filters.severity;\r\n      const matchesOutcome = filters.outcome === 'all' || log.outcome === filters.outcome;\r\n      const matchesUserRole = filters.userRole === 'all' || log.userRole === filters.userRole;\r\n      \r\n      const matchesDateRange = \r\n        (filters.dateRange.start === '' || log.timestamp >= filters.dateRange.start) &&\r\n        (filters.dateRange.end === '' || log.timestamp <= filters.dateRange.end);\r\n\r\n      return matchesSearch && matchesCategory && matchesSeverity && matchesOutcome && matchesUserRole && matchesDateRange;\r\n    });\r\n  }, [auditLogs, filters]);\r\n\r\n  const columns = [\r\n    {\r\n      key: 'timestamp' as keyof AuditLog,\r\n      label: 'Timestamp',\r\n      render: (value: string) => formatDate(value),\r\n      sortable: true,\r\n    },\r\n    {\r\n      key: 'userName' as keyof AuditLog,\r\n      label: 'User',\r\n      render: (value: string, row: AuditLog) => (\r\n        <div>\r\n          <p className=\"font-medium text-gray-900 dark:text-gray-100\">{value}</p>\r\n          <p className=\"text-xs text-gray-500\">{row.userRole}</p>\r\n        </div>\r\n      ),\r\n      sortable: true,\r\n    },\r\n    {\r\n      key: 'action' as keyof AuditLog,\r\n      label: 'Action',\r\n      render: (value: string, row: AuditLog) => (\r\n        <div className=\"flex items-center space-x-2\">\r\n          {getActionIcon(value)}\r\n          <span className=\"font-medium text-gray-900 dark:text-gray-100\">{value}</span>\r\n        </div>\r\n      ),\r\n      sortable: true,\r\n    },\r\n    {\r\n      key: 'resource' as keyof AuditLog,\r\n      label: 'Resource',\r\n      render: (value: string, row: AuditLog) => (\r\n        <div>\r\n          <p className=\"font-medium text-gray-900 dark:text-gray-100\">{value}</p>\r\n          {row.resourceId && (\r\n            <p className=\"text-xs text-gray-500\">ID: {row.resourceId}</p>\r\n          )}\r\n        </div>\r\n      ),\r\n      sortable: true,\r\n    },\r\n    {\r\n      key: 'severity' as keyof AuditLog,\r\n      label: 'Severity',\r\n      render: (value: string) => (\r\n        <span className={`px-2 py-1 rounded-full text-xs font-medium ${\r\n          value === 'critical' ? 'bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200' :\r\n          value === 'error' ? 'bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200' :\r\n          value === 'warning' ? 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-200' :\r\n          'bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-200'\r\n        }`}>\r\n          {value.charAt(0).toUpperCase() + value.slice(1)}\r\n        </span>\r\n      ),\r\n      sortable: true,\r\n    },\r\n    {\r\n      key: 'outcome' as keyof AuditLog,\r\n      label: 'Outcome',\r\n      render: (value: string) => (\r\n        <span className={`px-2 py-1 rounded-full text-xs font-medium ${\r\n          value === 'success' ? 'bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-200' :\r\n          value === 'failure' ? 'bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200' :\r\n          'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-200'\r\n        }`}>\r\n          {value.charAt(0).toUpperCase() + value.slice(1)}\r\n        </span>\r\n      ),\r\n      sortable: true,\r\n    },\r\n    {\r\n      key: 'details' as keyof AuditLog,\r\n      label: 'Details',\r\n      render: (value: string) => (\r\n        <p className=\"text-sm text-gray-600 dark:text-gray-400 max-w-xs truncate\" title={value}>\r\n          {value}\r\n        </p>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const getActionIcon = (action: string) => {\r\n    switch (action.toLowerCase()) {\r\n      case 'login':\r\n        return <Lock className=\"h-4 w-4 text-green-500\" />;\r\n      case 'logout':\r\n        return <Unlock className=\"h-4 w-4 text-gray-500\" />;\r\n      case 'create':\r\n        return <Plus className=\"h-4 w-4 text-blue-500\" />;\r\n      case 'update':\r\n        return <Edit className=\"h-4 w-4 text-yellow-500\" />;\r\n      case 'delete':\r\n        return <Trash2 className=\"h-4 w-4 text-red-500\" />;\r\n      case 'export':\r\n        return <Download className=\"h-4 w-4 text-purple-500\" />;\r\n      case 'import':\r\n        return <Upload className=\"h-4 w-4 text-indigo-500\" />;\r\n      case 'backup':\r\n        return <Database className=\"h-4 w-4 text-green-500\" />;\r\n      case 'config_change':\r\n        return <Settings className=\"h-4 w-4 text-orange-500\" />;\r\n      default:\r\n        return <Activity className=\"h-4 w-4 text-gray-500\" />;\r\n    }\r\n  };\r\n\r\n  // Calculate summary statistics\r\n  const summaryStats = useMemo(() => {\r\n    const totalLogs = auditLogs.length;\r\n    const todayLogs = auditLogs.filter(log => {\r\n      const logDate = new Date(log.timestamp);\r\n      const today = new Date();\r\n      return logDate.toDateString() === today.toDateString();\r\n    }).length;\r\n    \r\n    const failedLogins = auditLogs.filter(log => \r\n      log.action === 'LOGIN_FAILED' && log.outcome === 'failure'\r\n    ).length;\r\n    \r\n    const adminActions = auditLogs.filter(log => log.userRole === 'admin').length;\r\n    const criticalEvents = auditLogs.filter(log => log.severity === 'critical').length;\r\n\r\n    return {\r\n      totalLogs,\r\n      todayLogs,\r\n      failedLogins,\r\n      adminActions,\r\n      criticalEvents,\r\n    };\r\n  }, [auditLogs]);\r\n\r\n  const handleExportLogs = () => {\r\n    const data = {\r\n      auditLogs: filteredLogs,\r\n      exportedAt: new Date().toISOString(),\r\n      exportedBy: user?.name || 'Unknown',\r\n      filters: filters,\r\n    };\r\n    \r\n    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = `audit-logs-${new Date().toISOString().split('T')[0]}.json`;\r\n    document.body.appendChild(a);\r\n    a.click();\r\n    document.body.removeChild(a);\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  if (user?.role !== 'admin') {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-full\">\r\n        <p className=\"text-xl text-red-500\">Access Denied: Admins only.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">Audit Logs</h1>\r\n          <p className=\"text-gray-600 dark:text-gray-400 mt-1\">\r\n            Comprehensive activity tracking and security monitoring\r\n          </p>\r\n        </div>\r\n        \r\n        <div className=\"flex items-center space-x-3\">\r\n          <button\r\n            onClick={handleExportLogs}\r\n            className=\"flex items-center space-x-2 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700\"\r\n          >\r\n            <Download className=\"h-4 w-4\" />\r\n            <span>Export Logs</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Summary Cards */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4\">\r\n        <Card className=\"p-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"p-2 rounded-lg bg-blue-500\">\r\n              <FileText className=\"h-4 w-4 text-white\" />\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <p className=\"text-xs font-medium text-gray-600 dark:text-gray-400\">Total Logs</p>\r\n              <p className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">{summaryStats.totalLogs}</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"p-2 rounded-lg bg-green-500\">\r\n              <Calendar className=\"h-4 w-4 text-white\" />\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <p className=\"text-xs font-medium text-gray-600 dark:text-gray-400\">Today</p>\r\n              <p className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">{summaryStats.todayLogs}</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"p-2 rounded-lg bg-red-500\">\r\n              <AlertTriangle className=\"h-4 w-4 text-white\" />\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <p className=\"text-xs font-medium text-gray-600 dark:text-gray-400\">Failed Logins</p>\r\n              <p className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">{summaryStats.failedLogins}</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"p-2 rounded-lg bg-purple-500\">\r\n              <Shield className=\"h-4 w-4 text-white\" />\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <p className=\"text-xs font-medium text-gray-600 dark:text-gray-400\">Admin Actions</p>\r\n              <p className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">{summaryStats.adminActions}</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        <Card className=\"p-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"p-2 rounded-lg bg-orange-500\">\r\n              <Activity className=\"h-4 w-4 text-white\" />\r\n            </div>\r\n            <div className=\"text-right\">\r\n              <p className=\"text-xs font-medium text-gray-600 dark:text-gray-400\">Critical Events</p>\r\n              <p className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">{summaryStats.criticalEvents}</p>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <Card className=\"p-4\">\r\n        <div className=\"flex items-center space-x-4 mb-4\">\r\n          <Filter className=\"h-5 w-5 text-gray-500\" />\r\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">Filters</h3>\r\n        </div>\r\n        \r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4\">\r\n          <div className=\"relative\">\r\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search logs...\"\r\n              value={filters.search}\r\n              onChange={(e) => setFilters({ ...filters, search: e.target.value })}\r\n              className=\"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-bright-green focus:border-bright-green\"\r\n            />\r\n          </div>\r\n          \r\n          <select\r\n            value={filters.category}\r\n            onChange={(e) => setFilters({ ...filters, category: e.target.value })}\r\n            className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-bright-green focus:border-bright-green\"\r\n          >\r\n            <option value=\"all\">All Categories</option>\r\n            <option value=\"authentication\">Authentication</option>\r\n            <option value=\"data\">Data Operations</option>\r\n            <option value=\"system\">System</option>\r\n            <option value=\"user\">User Management</option>\r\n            <option value=\"security\">Security</option>\r\n          </select>\r\n          \r\n          <select\r\n            value={filters.severity}\r\n            onChange={(e) => setFilters({ ...filters, severity: e.target.value })}\r\n            className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-bright-green focus:border-bright-green\"\r\n          >\r\n            <option value=\"all\">All Severity</option>\r\n            <option value=\"critical\">Critical</option>\r\n            <option value=\"error\">Error</option>\r\n            <option value=\"warning\">Warning</option>\r\n            <option value=\"info\">Info</option>\r\n          </select>\r\n          \r\n          <select\r\n            value={filters.outcome}\r\n            onChange={(e) => setFilters({ ...filters, outcome: e.target.value })}\r\n            className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-bright-green focus:border-bright-green\"\r\n          >\r\n            <option value=\"all\">All Outcomes</option>\r\n            <option value=\"success\">Success</option>\r\n            <option value=\"failure\">Failure</option>\r\n            <option value=\"partial\">Partial</option>\r\n          </select>\r\n          \r\n          <select\r\n            value={filters.userRole}\r\n            onChange={(e) => setFilters({ ...filters, userRole: e.target.value })}\r\n            className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-bright-green focus:border-bright-green\"\r\n          >\r\n            <option value=\"all\">All Roles</option>\r\n            <option value=\"admin\">Admin</option>\r\n            <option value=\"user\">User</option>\r\n            <option value=\"unknown\">Unknown</option>\r\n          </select>\r\n          \r\n          <div className=\"flex space-x-2\">\r\n            <input\r\n              type=\"date\"\r\n              value={filters.dateRange.start}\r\n              onChange={(e) => setFilters({ ...filters, dateRange: { ...filters.dateRange, start: e.target.value } })}\r\n              className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-bright-green focus:border-bright-green\"\r\n            />\r\n            <input\r\n              type=\"date\"\r\n              value={filters.dateRange.end}\r\n              onChange={(e) => setFilters({ ...filters, dateRange: { ...filters.dateRange, end: e.target.value } })}\r\n              className=\"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:ring-bright-green focus:border-bright-green\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </Card>\r\n\r\n      {/* Data Table */}\r\n      <Card className=\"p-6\">\r\n        <DataTable\r\n          data={filteredLogs}\r\n          columns={columns}\r\n          emptyMessage=\"No audit logs found matching the current filters.\"\r\n          actions={[\r\n            {\r\n              label: 'View Details',\r\n              icon: Eye,\r\n              onClick: (log: AuditLog) => {\r\n                alert(`Log Details:\\n\\nUser: ${log.userName}\\nAction: ${log.action}\\nResource: ${log.resource}\\nDetails: ${log.details}\\nIP: ${log.ipAddress}\\nTime: ${formatDate(log.timestamp)}`);\r\n              },\r\n            },\r\n          ]}\r\n        />\r\n      </Card>\r\n\r\n      {/* Activity Trends */}\r\n      <Card className=\"p-6\">\r\n        <div className=\"flex items-center justify-between mb-6\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900 dark:text-gray-100\">Activity Trends</h3>\r\n          <TrendingUp className=\"h-5 w-5 text-gray-500\" />\r\n        </div>\r\n        \r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n          <div className=\"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg\">\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">Login Attempts</span>\r\n              <TrendingUp className=\"h-4 w-4 text-green-500\" />\r\n            </div>\r\n            <p className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">24</p>\r\n            <p className=\"text-xs text-gray-500\">+12% from yesterday</p>\r\n          </div>\r\n          \r\n          <div className=\"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg\">\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">Data Operations</span>\r\n              <TrendingUp className=\"h-4 w-4 text-blue-500\" />\r\n            </div>\r\n            <p className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">156</p>\r\n            <p className=\"text-xs text-gray-500\">+8% from yesterday</p>\r\n          </div>\r\n          \r\n          <div className=\"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg\">\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">System Events</span>\r\n              <TrendingDown className=\"h-4 w-4 text-red-500\" />\r\n            </div>\r\n            <p className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">8</p>\r\n            <p className=\"text-xs text-gray-500\">-3% from yesterday</p>\r\n          </div>\r\n          \r\n          <div className=\"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg\">\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">Security Events</span>\r\n              <Activity className=\"h-4 w-4 text-yellow-500\" />\r\n            </div>\r\n            <p className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">3</p>\r\n            <p className=\"text-xs text-gray-500\">No change</p>\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n"
        }
    ]
}