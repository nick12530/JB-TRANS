{
    "sourceFile": "src/components/Sidebar.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 32,
            "patches": [
                {
                    "date": 1759565584037,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1759901235789,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,8 +11,9 @@\n   FileText,\r\n   Settings,\r\n   UserPlus,\r\n   ArrowRightFromLine,\r\n+  MapPinned,\r\n } from 'lucide-react';\r\n import { useApp } from '../context/AppContext';\r\n \r\n const navItems = [\r\n"
                },
                {
                    "date": 1759901271274,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,8 +21,9 @@\n   { icon: Package, label: 'Source Records', path: '/source-records', adminOnly: false },\r\n   { icon: Truck, label: 'Transport Log', path: '/transport-log', adminOnly: false },\r\n   { icon: MapPin, label: 'Destination Records', path: '/destination-records', adminOnly: false },\r\n   { icon: BarChart3, label: 'Profit Reports', path: '/profit-reports', adminOnly: true },\r\n+  { icon: MapPinned, label: 'Area Performance', path: '/area-performance', adminOnly: true },\r\n   { icon: Users, label: 'Buyers', path: '/buyers', adminOnly: true },\r\n   { icon: UserPlus, label: 'Drivers', path: '/drivers', adminOnly: true },\r\n ];\r\n \r\n"
                },
                {
                    "date": 1759901351948,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,13 +7,12 @@\n   Truck,\r\n   MapPin,\r\n   BarChart3,\r\n   Users,\r\n-  FileText,\r\n   Settings,\r\n   UserPlus,\r\n   ArrowRightFromLine,\r\n-  MapPinned,\r\n+  Map,\r\n } from 'lucide-react';\r\n import { useApp } from '../context/AppContext';\r\n \r\n const navItems = [\r\n@@ -21,9 +20,9 @@\n   { icon: Package, label: 'Source Records', path: '/source-records', adminOnly: false },\r\n   { icon: Truck, label: 'Transport Log', path: '/transport-log', adminOnly: false },\r\n   { icon: MapPin, label: 'Destination Records', path: '/destination-records', adminOnly: false },\r\n   { icon: BarChart3, label: 'Profit Reports', path: '/profit-reports', adminOnly: true },\r\n-  { icon: MapPinned, label: 'Area Performance', path: '/area-performance', adminOnly: true },\r\n+  { icon: Map, label: 'Area Performance', path: '/area-performance', adminOnly: true },\r\n   { icon: Users, label: 'Buyers', path: '/buyers', adminOnly: true },\r\n   { icon: UserPlus, label: 'Drivers', path: '/drivers', adminOnly: true },\r\n ];\r\n \r\n"
                },
                {
                    "date": 1759902898158,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,20 +11,32 @@\n   Settings,\r\n   UserPlus,\r\n   ArrowRightFromLine,\r\n   Map,\r\n+  Shield,\r\n+  Activity,\r\n+  AlertTriangle,\r\n+  FileText,\r\n+  TrendingUp,\r\n } from 'lucide-react';\r\n import { useApp } from '../context/AppContext';\r\n \r\n const navItems = [\r\n   { icon: LayoutDashboard, label: 'Dashboard', path: '/dashboard', adminOnly: false },\r\n   { icon: Package, label: 'Source Records', path: '/source-records', adminOnly: false },\r\n   { icon: Truck, label: 'Transport Log', path: '/transport-log', adminOnly: false },\r\n   { icon: MapPin, label: 'Destination Records', path: '/destination-records', adminOnly: false },\r\n-  { icon: BarChart3, label: 'Profit Reports', path: '/profit-reports', adminOnly: true },\r\n+  \r\n+  // Admin-only sections\r\n+  { icon: BarChart3, label: 'Analytics Dashboard', path: '/analytics', adminOnly: true },\r\n+  { icon: TrendingUp, label: 'Performance Reports', path: '/profit-reports', adminOnly: true },\r\n   { icon: Map, label: 'Area Performance', path: '/area-performance', adminOnly: true },\r\n-  { icon: Users, label: 'Buyers', path: '/buyers', adminOnly: true },\r\n-  { icon: UserPlus, label: 'Drivers', path: '/drivers', adminOnly: true },\r\n+  { icon: Activity, label: 'System Monitoring', path: '/monitoring', adminOnly: true },\r\n+  { icon: AlertTriangle, label: 'Discrepancy Reports', path: '/discrepancies', adminOnly: true },\r\n+  { icon: Users, label: 'Buyers Management', path: '/buyers', adminOnly: true },\r\n+  { icon: UserPlus, label: 'Staff Management', path: '/staff', adminOnly: true },\r\n+  { icon: Shield, label: 'Admin Controls', path: '/admin-controls', adminOnly: true },\r\n+  { icon: FileText, label: 'Audit Logs', path: '/audit-logs', adminOnly: true },\r\n ];\r\n \r\n export const Sidebar: React.FC = () => {\r\n   const location = useLocation();\r\n"
                },
                {
                    "date": 1759903091908,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -82,9 +82,9 @@\n       </nav>\r\n \r\n       <div className=\"mt-auto space-y-2\">\r\n         <button\r\n-          onClick={() => setIsDark(!isDark)}\r\n+          onClick={() => navigate('/settings')}\r\n           className=\"flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700\"\r\n         >\r\n           <Settings className=\"h-5 w-5\" />\r\n           <span className=\"font-medium\">Settings</span>\r\n"
                },
                {
                    "date": 1759903157766,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,9 +40,9 @@\n \r\n export const Sidebar: React.FC = () => {\r\n   const location = useLocation();\r\n   const navigate = useNavigate();\r\n-  const { user, isDark, setIsDark } = useApp();\r\n+  const { user } = useApp();\r\n \r\n   const sidebarClasses = clsx(\r\n     'w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 px-6 py-4 fixed left-0 top-0 h-full transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0',\r\n     '[&.mobile-closed]:transform [&.mobile-closed]:-translate-x-full lg:[&.mobile-closed]:translate-x-0',\r\n"
                },
                {
                    "date": 1759905125121,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,8 @@\n import React from 'react';\r\n import { useLocation, useNavigate } from 'react-router-dom';\r\n import { clsx } from 'clsx';\r\n+import { Logo } from './Logo';\r\n import {\r\n   LayoutDashboard,\r\n   Package,\r\n   Truck,\r\n@@ -51,12 +52,9 @@\n \r\n   return (\r\n     <aside className={sidebarClasses}>\r\n       <div className=\"mb-8\">\r\n-        <img src=\"/vite.svg\" alt=\"Logo\" className=\"h-8 w-8 mx-auto mb-2\" />\r\n-        <h1 className=\"text-xl font-bold text-gray-900 dark:text-gray-100 text-center\">\r\n-          Mwalimu Transporters\r\n-        </h1>\r\n+        <Logo size=\"lg\" className=\"justify-center\" />\r\n       </div>\r\n \r\n       <nav className=\"space-y-2\">\r\n         {navItems.map(({ icon: Icon, label, path, adminOnly }) => {\r\n@@ -67,11 +65,11 @@\n             <button\r\n               key={path}\r\n               onClick={() => navigate(path)}\r\n               className={clsx(\r\n-                'flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-left transition-colors',\r\n+                'flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-left transition-colors hover-lift',\r\n                 isActive\r\n-                  ? 'bg-bright-green text-white'\r\n+                  ? 'bg-gradient-to-r from-bright-green to-green-600 text-white shadow-lg'\r\n                   : 'text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700'\r\n               )}\r\n             >\r\n               <Icon className=\"h-5 w-5\" />\r\n@@ -83,18 +81,18 @@\n \r\n       <div className=\"mt-auto space-y-2\">\r\n         <button\r\n           onClick={() => navigate('/settings')}\r\n-          className=\"flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700\"\r\n+          className=\"flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover-lift\"\r\n         >\r\n           <Settings className=\"h-5 w-5\" />\r\n           <span className=\"font-medium\">Settings</span>\r\n         </button>\r\n         \r\n         {user && (\r\n           <button\r\n             onClick={() => navigate('/login')}\r\n-            className=\"flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700\"\r\n+            className=\"flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover-lift\"\r\n           >\r\n             <ArrowRightFromLine className=\"h-5 w-5\" />\r\n             <span className=\"font-medium\">Logout</span>\r\n           </button>\r\n"
                },
                {
                    "date": 1759908556426,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,9 +44,9 @@\n   const navigate = useNavigate();\r\n   const { user } = useApp();\r\n \r\n   const sidebarClasses = clsx(\r\n-    'w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 px-6 py-4 fixed left-0 top-0 h-full transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0',\r\n+    'w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 px-6 py-4 fixed left-0 top-0 h-full z-50 transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0 lg:z-auto',\r\n     '[&.mobile-closed]:transform [&.mobile-closed]:-translate-x-full lg:[&.mobile-closed]:translate-x-0',\r\n     !user && 'translate-x-full lg:translate-x-0'\r\n   );\r\n \r\n"
                },
                {
                    "date": 1759908687791,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,21 +38,35 @@\n   { icon: Shield, label: 'Admin Controls', path: '/admin-controls', adminOnly: true },\r\n   { icon: FileText, label: 'Audit Logs', path: '/audit-logs', adminOnly: true },\r\n ];\r\n \r\n-export const Sidebar: React.FC = () => {\r\n+interface SidebarProps {\r\n+  isOpen?: boolean;\r\n+  onToggle?: (isOpen: boolean) => void;\r\n+}\r\n+\r\n+export const Sidebar: React.FC<SidebarProps> = ({ isOpen = false, onToggle }) => {\r\n   const location = useLocation();\r\n   const navigate = useNavigate();\r\n   const { user } = useApp();\r\n \r\n   const sidebarClasses = clsx(\r\n     'w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 px-6 py-4 fixed left-0 top-0 h-full z-50 transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0 lg:z-auto',\r\n-    '[&.mobile-closed]:transform [&.mobile-closed]:-translate-x-full lg:[&.mobile-closed]:translate-x-0',\r\n+    !isOpen && 'lg:hidden -translate-x-full',\r\n     !user && 'translate-x-full lg:translate-x-0'\r\n   );\r\n \r\n   return (\r\n-    <aside className={sidebarClasses}>\r\n+    <>\r\n+      {/* Mobile Overlay */}\r\n+      {isOpen && (\r\n+        <div \r\n+          className=\"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden\"\r\n+          onClick={() => onToggle?.(false)}\r\n+        />\r\n+      )}\r\n+      \r\n+      <aside className={sidebarClasses}>\r\n       <div className=\"mb-8\">\r\n         <Logo size=\"lg\" className=\"justify-center\" />\r\n       </div>\r\n \r\n@@ -98,6 +112,7 @@\n           </button>\r\n         )}\r\n       </div>\r\n     </aside>\r\n+    </>\r\n   );\r\n };\r\n"
                },
                {
                    "date": 1759908988592,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,35 +38,21 @@\n   { icon: Shield, label: 'Admin Controls', path: '/admin-controls', adminOnly: true },\r\n   { icon: FileText, label: 'Audit Logs', path: '/audit-logs', adminOnly: true },\r\n ];\r\n \r\n-interface SidebarProps {\r\n-  isOpen?: boolean;\r\n-  onToggle?: (isOpen: boolean) => void;\r\n-}\r\n-\r\n-export const Sidebar: React.FC<SidebarProps> = ({ isOpen = false, onToggle }) => {\r\n+export const Sidebar: React.FC = () => {\r\n   const location = useLocation();\r\n   const navigate = useNavigate();\r\n   const { user } = useApp();\r\n \r\n   const sidebarClasses = clsx(\r\n-    'w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 px-6 py-4 fixed left-0 top-0 h-full z-50 transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0 lg:z-auto',\r\n-    !isOpen && 'lg:hidden -translate-x-full',\r\n+    'w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 px-6 py-4 fixed left-0 top-0 h-full transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0',\r\n+    '[&.mobile-closed]:transform [&.mobile-closed]:-translate-x-full lg:[&.mobile-closed]:translate-x-0',\r\n     !user && 'translate-x-full lg:translate-x-0'\r\n   );\r\n \r\n   return (\r\n-    <>\r\n-      {/* Mobile Overlay */}\r\n-      {isOpen && (\r\n-        <div \r\n-          className=\"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden\"\r\n-          onClick={() => onToggle?.(false)}\r\n-        />\r\n-      )}\r\n-      \r\n-      <aside className={sidebarClasses}>\r\n+    <aside className={sidebarClasses}>\r\n       <div className=\"mb-8\">\r\n         <Logo size=\"lg\" className=\"justify-center\" />\r\n       </div>\r\n \r\n@@ -112,7 +98,6 @@\n           </button>\r\n         )}\r\n       </div>\r\n     </aside>\r\n-    </>\r\n   );\r\n };\r\n"
                },
                {
                    "date": 1759909149090,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,9 +44,9 @@\n   const navigate = useNavigate();\r\n   const { user } = useApp();\r\n \r\n   const sidebarClasses = clsx(\r\n-    'w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 px-6 py-4 fixed left-0 top-0 h-full transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0',\r\n+    'w-64 bg-gradient-to-b from-slate-800 to-slate-900 dark:from-slate-900 dark:to-slate-950 border-r border-slate-700 dark:border-slate-600 px-6 py-4 fixed left-0 top-0 h-full transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0',\r\n     '[&.mobile-closed]:transform [&.mobile-closed]:-translate-x-full lg:[&.mobile-closed]:translate-x-0',\r\n     !user && 'translate-x-full lg:translate-x-0'\r\n   );\r\n \r\n@@ -68,9 +68,9 @@\n               className={clsx(\r\n                 'flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-left transition-colors hover-lift',\r\n                 isActive\r\n                   ? 'bg-gradient-to-r from-bright-green to-green-600 text-white shadow-lg'\r\n-                  : 'text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700'\r\n+                  : 'text-slate-200 dark:text-slate-300 hover:bg-slate-700 dark:hover:bg-slate-800'\r\n               )}\r\n             >\r\n               <Icon className=\"h-5 w-5\" />\r\n               <span className=\"font-medium\">{label}</span>\r\n@@ -81,18 +81,18 @@\n \r\n       <div className=\"mt-auto space-y-2\">\r\n         <button\r\n           onClick={() => navigate('/settings')}\r\n-          className=\"flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover-lift\"\r\n+          className=\"flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-slate-200 dark:text-slate-300 hover:bg-slate-700 dark:hover:bg-slate-800 hover-lift\"\r\n         >\r\n           <Settings className=\"h-5 w-5\" />\r\n           <span className=\"font-medium\">Settings</span>\r\n         </button>\r\n         \r\n         {user && (\r\n           <button\r\n             onClick={() => navigate('/login')}\r\n-            className=\"flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover-lift\"\r\n+            className=\"flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-slate-200 dark:text-slate-300 hover:bg-slate-700 dark:hover:bg-slate-800 hover-lift\"\r\n           >\r\n             <ArrowRightFromLine className=\"h-5 w-5\" />\r\n             <span className=\"font-medium\">Logout</span>\r\n           </button>\r\n"
                },
                {
                    "date": 1759909655132,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,9 +44,9 @@\n   const navigate = useNavigate();\r\n   const { user } = useApp();\r\n \r\n   const sidebarClasses = clsx(\r\n-    'w-64 bg-gradient-to-b from-slate-800 to-slate-900 dark:from-slate-900 dark:to-slate-950 border-r border-slate-700 dark:border-slate-600 px-6 py-4 fixed left-0 top-0 h-full transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0',\r\n+    'w-64 bg-gradient-to-b from-slate-800 to-slate-900 dark:from-slate-900 dark:to-slate-950 border-r border-slate-700 dark:border-slate-600 px-6 py-4 fixed left-0 top-0 bottom-0 h-screen transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0',\r\n     '[&.mobile-closed]:transform [&.mobile-closed]:-translate-x-full lg:[&.mobile-closed]:translate-x-0',\r\n     !user && 'translate-x-full lg:translate-x-0'\r\n   );\r\n \r\n"
                },
                {
                    "date": 1759909861170,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -44,9 +44,9 @@\n   const navigate = useNavigate();\r\n   const { user } = useApp();\r\n \r\n   const sidebarClasses = clsx(\r\n-    'w-64 bg-gradient-to-b from-slate-800 to-slate-900 dark:from-slate-900 dark:to-slate-950 border-r border-slate-700 dark:border-slate-600 px-6 py-4 fixed left-0 top-0 bottom-0 h-screen transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0',\r\n+    'w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 px-6 py-4 fixed left-0 top-0 bottom-0 h-screen transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0',\r\n     '[&.mobile-closed]:transform [&.mobile-closed]:-translate-x-full lg:[&.mobile-closed]:translate-x-0',\r\n     !user && 'translate-x-full lg:translate-x-0'\r\n   );\r\n \r\n@@ -68,9 +68,9 @@\n               className={clsx(\r\n                 'flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-left transition-colors hover-lift',\r\n                 isActive\r\n                   ? 'bg-gradient-to-r from-bright-green to-green-600 text-white shadow-lg'\r\n-                  : 'text-slate-200 dark:text-slate-300 hover:bg-slate-700 dark:hover:bg-slate-800'\r\n+                  : 'text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700'\r\n               )}\r\n             >\r\n               <Icon className=\"h-5 w-5\" />\r\n               <span className=\"font-medium\">{label}</span>\r\n@@ -81,18 +81,18 @@\n \r\n       <div className=\"mt-auto space-y-2\">\r\n         <button\r\n           onClick={() => navigate('/settings')}\r\n-          className=\"flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-slate-200 dark:text-slate-300 hover:bg-slate-700 dark:hover:bg-slate-800 hover-lift\"\r\n+          className=\"flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover-lift\"\r\n         >\r\n           <Settings className=\"h-5 w-5\" />\r\n           <span className=\"font-medium\">Settings</span>\r\n         </button>\r\n         \r\n         {user && (\r\n           <button\r\n             onClick={() => navigate('/login')}\r\n-            className=\"flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-slate-200 dark:text-slate-300 hover:bg-slate-700 dark:hover:bg-slate-800 hover-lift\"\r\n+            className=\"flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover-lift\"\r\n           >\r\n             <ArrowRightFromLine className=\"h-5 w-5\" />\r\n             <span className=\"font-medium\">Logout</span>\r\n           </button>\r\n"
                },
                {
                    "date": 1759910206318,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,8 +36,12 @@\n   { icon: Users, label: 'Buyers Management', path: '/buyers', adminOnly: true },\r\n   { icon: UserPlus, label: 'Staff Management', path: '/staff', adminOnly: true },\r\n   { icon: Shield, label: 'Admin Controls', path: '/admin-controls', adminOnly: true },\r\n   { icon: FileText, label: 'Audit Logs', path: '/audit-logs', adminOnly: true },\r\n+  \r\n+  // Staff Control and Settings Cards\r\n+  { icon: UserPlus, label: 'Staff Control', path: '/staff-control', adminOnly: true, isCard: true },\r\n+  { icon: Settings, label: 'Settings Card', path: '/settings-card', adminOnly: false, isCard: true },\r\n ];\r\n \r\n export const Sidebar: React.FC = () => {\r\n   const location = useLocation();\r\n@@ -56,9 +60,9 @@\n         <Logo size=\"lg\" className=\"justify-center\" />\r\n       </div>\r\n \r\n       <nav className=\"space-y-2\">\r\n-        {navItems.map(({ icon: Icon, label, path, adminOnly }) => {\r\n+        {navItems.map(({ icon: Icon, label, path, adminOnly, isCard }) => {\r\n           if (adminOnly && user?.role !== 'admin') return null;\r\n           \r\n           const isActive = location.pathname === path;\r\n           return (\r\n@@ -66,15 +70,23 @@\n               key={path}\r\n               onClick={() => navigate(path)}\r\n               className={clsx(\r\n                 'flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-left transition-colors hover-lift',\r\n+                isCard \r\n+                  ? 'bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border border-blue-200 dark:border-blue-700 hover:from-blue-100 hover:to-indigo-100 dark:hover:from-blue-800/30 dark:hover:to-indigo-800/30'\r\n+                  : '',\r\n                 isActive\r\n                   ? 'bg-gradient-to-r from-bright-green to-green-600 text-white shadow-lg'\r\n                   : 'text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700'\r\n               )}\r\n             >\r\n               <Icon className=\"h-5 w-5\" />\r\n               <span className=\"font-medium\">{label}</span>\r\n+              {isCard && (\r\n+                <span className=\"ml-auto text-xs bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200 px-2 py-1 rounded-full\">\r\n+                  Card\r\n+                </span>\r\n+              )}\r\n             </button>\r\n           );\r\n         })}\r\n       </nav>\r\n"
                },
                {
                    "date": 1759910808904,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -55,61 +55,63 @@\n   );\r\n \r\n   return (\r\n     <aside className={sidebarClasses}>\r\n-      <div className=\"mb-8\">\r\n-        <Logo size=\"lg\" className=\"justify-center\" />\r\n-      </div>\r\n+      <div className=\"flex flex-col h-full\">\r\n+        <div className=\"mb-8 flex-shrink-0\">\r\n+          <Logo size=\"lg\" className=\"justify-center\" />\r\n+        </div>\r\n \r\n-      <nav className=\"space-y-2\">\r\n-        {navItems.map(({ icon: Icon, label, path, adminOnly, isCard }) => {\r\n-          if (adminOnly && user?.role !== 'admin') return null;\r\n-          \r\n-          const isActive = location.pathname === path;\r\n-          return (\r\n-            <button\r\n-              key={path}\r\n-              onClick={() => navigate(path)}\r\n-              className={clsx(\r\n-                'flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-left transition-colors hover-lift',\r\n-                isCard \r\n-                  ? 'bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border border-blue-200 dark:border-blue-700 hover:from-blue-100 hover:to-indigo-100 dark:hover:from-blue-800/30 dark:hover:to-indigo-800/30'\r\n-                  : '',\r\n-                isActive\r\n-                  ? 'bg-gradient-to-r from-bright-green to-green-600 text-white shadow-lg'\r\n-                  : 'text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700'\r\n-              )}\r\n-            >\r\n-              <Icon className=\"h-5 w-5\" />\r\n-              <span className=\"font-medium\">{label}</span>\r\n-              {isCard && (\r\n-                <span className=\"ml-auto text-xs bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200 px-2 py-1 rounded-full\">\r\n-                  Card\r\n-                </span>\r\n-              )}\r\n-            </button>\r\n-          );\r\n-        })}\r\n-      </nav>\r\n+        <nav className=\"flex-1 overflow-y-auto space-y-2 pr-2 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600 scrollbar-track-transparent hover:scrollbar-thumb-gray-400 dark:hover:scrollbar-thumb-gray-500\">\r\n+          {navItems.map(({ icon: Icon, label, path, adminOnly, isCard }) => {\r\n+            if (adminOnly && user?.role !== 'admin') return null;\r\n+            \r\n+            const isActive = location.pathname === path;\r\n+            return (\r\n+              <button\r\n+                key={path}\r\n+                onClick={() => navigate(path)}\r\n+                className={clsx(\r\n+                  'flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-left transition-colors hover-lift',\r\n+                  isCard \r\n+                    ? 'bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border border-blue-200 dark:border-blue-700 hover:from-blue-100 hover:to-indigo-100 dark:hover:from-blue-800/30 dark:hover:to-indigo-800/30'\r\n+                    : '',\r\n+                  isActive\r\n+                    ? 'bg-gradient-to-r from-bright-green to-green-600 text-white shadow-lg'\r\n+                    : 'text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700'\r\n+                )}\r\n+              >\r\n+                <Icon className=\"h-5 w-5 flex-shrink-0\" />\r\n+                <span className=\"font-medium truncate\">{label}</span>\r\n+                {isCard && (\r\n+                  <span className=\"ml-auto text-xs bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200 px-2 py-1 rounded-full flex-shrink-0\">\r\n+                    Card\r\n+                  </span>\r\n+                )}\r\n+              </button>\r\n+            );\r\n+          })}\r\n+        </nav>\r\n \r\n-      <div className=\"mt-auto space-y-2\">\r\n-        <button\r\n-          onClick={() => navigate('/settings')}\r\n-          className=\"flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover-lift\"\r\n-        >\r\n-          <Settings className=\"h-5 w-5\" />\r\n-          <span className=\"font-medium\">Settings</span>\r\n-        </button>\r\n-        \r\n-        {user && (\r\n+        <div className=\"mt-auto space-y-2 flex-shrink-0\">\r\n           <button\r\n-            onClick={() => navigate('/login')}\r\n+            onClick={() => navigate('/settings')}\r\n             className=\"flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover-lift\"\r\n           >\r\n-            <ArrowRightFromLine className=\"h-5 w-5\" />\r\n-            <span className=\"font-medium\">Logout</span>\r\n+            <Settings className=\"h-5 w-5\" />\r\n+            <span className=\"font-medium\">Settings</span>\r\n           </button>\r\n-        )}\r\n+          \r\n+          {user && (\r\n+            <button\r\n+              onClick={() => navigate('/login')}\r\n+              className=\"flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover-lift\"\r\n+            >\r\n+              <ArrowRightFromLine className=\"h-5 w-5\" />\r\n+              <span className=\"font-medium\">Logout</span>\r\n+            </button>\r\n+          )}\r\n+        </div>\r\n       </div>\r\n     </aside>\r\n   );\r\n };\r\n"
                },
                {
                    "date": 1759911858491,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,9 +48,9 @@\n   const navigate = useNavigate();\r\n   const { user } = useApp();\r\n \r\n   const sidebarClasses = clsx(\r\n-    'w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 px-6 py-4 fixed left-0 top-0 bottom-0 h-screen transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0',\r\n+    'w-64 glass-sidebar px-6 py-4 fixed left-0 top-0 bottom-0 h-screen transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0',\r\n     '[&.mobile-closed]:transform [&.mobile-closed]:-translate-x-full lg:[&.mobile-closed]:translate-x-0',\r\n     !user && 'translate-x-full lg:translate-x-0'\r\n   );\r\n \r\n"
                },
                {
                    "date": 1760600681588,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,8 +23,9 @@\n \r\n const navItems = [\r\n   { icon: LayoutDashboard, label: 'Dashboard', path: '/dashboard', adminOnly: false },\r\n   { icon: Package, label: 'Source Records', path: '/source-records', adminOnly: false },\r\n+  { icon: Package, label: 'Inventory', path: '/inventory', adminOnly: false },\r\n   { icon: Truck, label: 'Transport Log', path: '/transport-log', adminOnly: false },\r\n   { icon: MapPin, label: 'Destination Records', path: '/destination-records', adminOnly: false },\r\n   \r\n   // Admin-only sections\r\n"
                },
                {
                    "date": 1760601325748,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,9 +23,8 @@\n \r\n const navItems = [\r\n   { icon: LayoutDashboard, label: 'Dashboard', path: '/dashboard', adminOnly: false },\r\n   { icon: Package, label: 'Source Records', path: '/source-records', adminOnly: false },\r\n-  { icon: Package, label: 'Inventory', path: '/inventory', adminOnly: false },\r\n   { icon: Truck, label: 'Transport Log', path: '/transport-log', adminOnly: false },\r\n   { icon: MapPin, label: 'Destination Records', path: '/destination-records', adminOnly: false },\r\n   \r\n   // Admin-only sections\r\n"
                },
                {
                    "date": 1761637721276,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,46 +4,34 @@\n import { Logo } from './Logo';\r\n import {\r\n   LayoutDashboard,\r\n   Package,\r\n-  Truck,\r\n   MapPin,\r\n-  BarChart3,\r\n   Users,\r\n   Settings,\r\n-  UserPlus,\r\n   ArrowRightFromLine,\r\n-  Map,\r\n-  Shield,\r\n-  Activity,\r\n-  AlertTriangle,\r\n   FileText,\r\n-  TrendingUp,\r\n+  BarChart3,\r\n } from 'lucide-react';\r\n import { useApp } from '../context/AppContext';\r\n \r\n-const navItems = [\r\n-  { icon: LayoutDashboard, label: 'Dashboard', path: '/dashboard', adminOnly: false },\r\n-  { icon: Package, label: 'Source Records', path: '/source-records', adminOnly: false },\r\n-  { icon: Truck, label: 'Transport Log', path: '/transport-log', adminOnly: false },\r\n-  { icon: MapPin, label: 'Destination Records', path: '/destination-records', adminOnly: false },\r\n-  \r\n-  // Admin-only sections\r\n-  { icon: BarChart3, label: 'Analytics Dashboard', path: '/analytics', adminOnly: true },\r\n-  { icon: TrendingUp, label: 'Performance Reports', path: '/profit-reports', adminOnly: true },\r\n-  { icon: Map, label: 'Area Performance', path: '/area-performance', adminOnly: true },\r\n-  { icon: Activity, label: 'System Monitoring', path: '/monitoring', adminOnly: true },\r\n-  { icon: AlertTriangle, label: 'Discrepancy Reports', path: '/discrepancies', adminOnly: true },\r\n-  { icon: Users, label: 'Buyers Management', path: '/buyers', adminOnly: true },\r\n-  { icon: UserPlus, label: 'Staff Management', path: '/staff', adminOnly: true },\r\n-  { icon: Shield, label: 'Admin Controls', path: '/admin-controls', adminOnly: true },\r\n-  { icon: FileText, label: 'Audit Logs', path: '/audit-logs', adminOnly: true },\r\n-  \r\n-  // Staff Control and Settings Cards\r\n-  { icon: UserPlus, label: 'Staff Control', path: '/staff-control', adminOnly: true, isCard: true },\r\n-  { icon: Settings, label: 'Settings Card', path: '/settings-card', adminOnly: false, isCard: true },\r\n+// Admin navigation items\r\n+const adminNavItems = [\r\n+  { icon: LayoutDashboard, label: 'Admin Dashboard', path: '/dashboard', adminOnly: true },\r\n+  { icon: Users, label: 'User Management', path: '/users', adminOnly: true },\r\n+  { icon: MapPin, label: 'Pickup Stations', path: '/stations', adminOnly: true },\r\n+  { icon: Package, label: 'Package Management', path: '/packages', adminOnly: true },\r\n+  { icon: BarChart3, label: 'Reports', path: '/reports', adminOnly: true },\r\n+  { icon: FileText, label: 'Area Codes', path: '/area-codes', adminOnly: true },\r\n ];\r\n \r\n+// User navigation items\r\n+const userNavItems = [\r\n+  { icon: LayoutDashboard, label: 'My Dashboard', path: '/dashboard', adminOnly: false },\r\n+  { icon: Package, label: 'Register Package', path: '/register-package', adminOnly: false },\r\n+  { icon: MapPin, label: 'View Stations', path: '/stations', adminOnly: false },\r\n+];\r\n+\r\n export const Sidebar: React.FC = () => {\r\n   const location = useLocation();\r\n   const navigate = useNavigate();\r\n   const { user } = useApp();\r\n@@ -61,33 +49,23 @@\n           <Logo size=\"lg\" className=\"justify-center\" />\r\n         </div>\r\n \r\n         <nav className=\"flex-1 overflow-y-auto space-y-2 pr-2 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600 scrollbar-track-transparent hover:scrollbar-thumb-gray-400 dark:hover:scrollbar-thumb-gray-500\">\r\n-          {navItems.map(({ icon: Icon, label, path, adminOnly, isCard }) => {\r\n-            if (adminOnly && user?.role !== 'admin') return null;\r\n-            \r\n+          {(user?.role === 'admin' ? adminNavItems : userNavItems).map(({ icon: Icon, label, path }) => {\r\n             const isActive = location.pathname === path;\r\n             return (\r\n               <button\r\n                 key={path}\r\n                 onClick={() => navigate(path)}\r\n-                className={clsx(\r\n-                  'flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-left transition-colors hover-lift',\r\n-                  isCard \r\n-                    ? 'bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border border-blue-200 dark:border-blue-700 hover:from-blue-100 hover:to-indigo-100 dark:hover:from-blue-800/30 dark:hover:to-indigo-800/30'\r\n-                    : '',\r\n-                  isActive\r\n-                    ? 'bg-gradient-to-r from-bright-green to-green-600 text-white shadow-lg'\r\n-                    : 'text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700'\r\n-                )}\r\n+                   className={clsx(\r\n+                     'flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-left transition-colors hover-lift',\r\n+                     isActive\r\n+                       ? 'bg-gradient-to-r from-navy-500 to-navy-600 text-white shadow-lg'\r\n+                       : 'text-text-primary dark:text-text-secondary hover:bg-mint-100 dark:hover:bg-mint-700'\r\n+                   )}\r\n               >\r\n                 <Icon className=\"h-5 w-5 flex-shrink-0\" />\r\n                 <span className=\"font-medium truncate\">{label}</span>\r\n-                {isCard && (\r\n-                  <span className=\"ml-auto text-xs bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200 px-2 py-1 rounded-full flex-shrink-0\">\r\n-                    Card\r\n-                  </span>\r\n-                )}\r\n               </button>\r\n             );\r\n           })}\r\n         </nav>\r\n"
                },
                {
                    "date": 1761639521517,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -23,15 +23,21 @@\n   { icon: BarChart3, label: 'Reports', path: '/reports', adminOnly: true },\r\n   { icon: FileText, label: 'Area Codes', path: '/area-codes', adminOnly: true },\r\n ];\r\n \r\n-// User navigation items\r\n-const userNavItems = [\r\n-  { icon: LayoutDashboard, label: 'My Dashboard', path: '/dashboard', adminOnly: false },\r\n+// Staff navigation\r\n+const staffNavItems = [\r\n+  { icon: LayoutDashboard, label: 'Staff Dashboard', path: '/dashboard', adminOnly: false },\r\n   { icon: Package, label: 'Register Package', path: '/register-package', adminOnly: false },\r\n   { icon: MapPin, label: 'View Stations', path: '/stations', adminOnly: false },\r\n ];\r\n \r\n+// Client navigation\r\n+const clientNavItems = [\r\n+  { icon: LayoutDashboard, label: 'My Deliveries', path: '/deliveries', adminOnly: false },\r\n+  { icon: MapPin, label: 'View Stations', path: '/stations', adminOnly: false },\r\n+];\r\n+\r\n export const Sidebar: React.FC = () => {\r\n   const location = useLocation();\r\n   const navigate = useNavigate();\r\n   const { user } = useApp();\r\n@@ -49,9 +55,9 @@\n           <Logo size=\"lg\" className=\"justify-center\" />\r\n         </div>\r\n \r\n         <nav className=\"flex-1 overflow-y-auto space-y-2 pr-2 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600 scrollbar-track-transparent hover:scrollbar-thumb-gray-400 dark:hover:scrollbar-thumb-gray-500\">\r\n-          {(user?.role === 'admin' ? adminNavItems : userNavItems).map(({ icon: Icon, label, path }) => {\r\n+          {(user?.role === 'admin' ? adminNavItems : user?.role === 'staff' ? staffNavItems : clientNavItems).map(({ icon: Icon, label, path }) => {\r\n             const isActive = location.pathname === path;\r\n             return (\r\n               <button\r\n                 key={path}\r\n"
                },
                {
                    "date": 1761639938226,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,13 +30,10 @@\n   { icon: Package, label: 'Register Package', path: '/register-package', adminOnly: false },\r\n   { icon: MapPin, label: 'View Stations', path: '/stations', adminOnly: false },\r\n ];\r\n \r\n-// Client navigation\r\n-const clientNavItems = [\r\n-  { icon: LayoutDashboard, label: 'My Deliveries', path: '/deliveries', adminOnly: false },\r\n-  { icon: MapPin, label: 'View Stations', path: '/stations', adminOnly: false },\r\n-];\r\n+// Client navigation (clients don't use the UI; keep empty to avoid showing menu)\r\n+const clientNavItems: any[] = [];\r\n \r\n export const Sidebar: React.FC = () => {\r\n   const location = useLocation();\r\n   const navigate = useNavigate();\r\n"
                },
                {
                    "date": 1761640028538,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,10 @@\n // Staff navigation\r\n const staffNavItems = [\r\n   { icon: LayoutDashboard, label: 'Staff Dashboard', path: '/dashboard', adminOnly: false },\r\n   { icon: Package, label: 'Register Package', path: '/register-package', adminOnly: false },\r\n-  { icon: MapPin, label: 'View Stations', path: '/stations', adminOnly: false },\r\n+  { icon: MapPin, label: 'Pickup Stations', path: '/stations', adminOnly: false },\r\n+  { icon: Package, label: 'Package Management', path: '/packages', adminOnly: false },\r\n ];\r\n \r\n // Client navigation (clients don't use the UI; keep empty to avoid showing menu)\r\n const clientNavItems: any[] = [];\r\n"
                },
                {
                    "date": 1761649796269,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,11 +10,18 @@\n   Settings,\r\n   ArrowRightFromLine,\r\n   FileText,\r\n   BarChart3,\r\n+  ChevronLeft,\r\n+  ChevronRight,\r\n } from 'lucide-react';\r\n import { useApp } from '../context/AppContext';\r\n \r\n+interface SidebarProps {\r\n+  isCollapsed?: boolean;\r\n+  onToggleCollapse?: () => void;\r\n+}\r\n+\r\n // Admin navigation items\r\n const adminNavItems = [\r\n   { icon: LayoutDashboard, label: 'Admin Dashboard', path: '/dashboard', adminOnly: true },\r\n   { icon: Users, label: 'User Management', path: '/users', adminOnly: true },\r\n@@ -34,63 +41,87 @@\n \r\n // Client navigation (clients don't use the UI; keep empty to avoid showing menu)\r\n const clientNavItems: any[] = [];\r\n \r\n-export const Sidebar: React.FC = () => {\r\n+export const Sidebar: React.FC<SidebarProps> = ({ isCollapsed = false, onToggleCollapse }) => {\r\n   const location = useLocation();\r\n   const navigate = useNavigate();\r\n   const { user } = useApp();\r\n \r\n   const sidebarClasses = clsx(\r\n-    'w-64 glass-sidebar px-6 py-4 fixed left-0 top-0 bottom-0 h-screen transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0',\r\n-    '[&.mobile-closed]:transform [&.mobile-closed]:-translate-x-full lg:[&.mobile-closed]:translate-x-0',\r\n+    'h-full glass-sidebar transition-all duration-300 fixed left-0 top-0 bottom-0 lg:relative',\r\n+    isCollapsed ? 'px-2 py-4' : 'px-6 py-4',\r\n     !user && 'translate-x-full lg:translate-x-0'\r\n   );\r\n \r\n+  const currentNavItems = user?.role === 'admin' ? adminNavItems : user?.role === 'staff' ? staffNavItems : clientNavItems;\r\n+\r\n   return (\r\n     <aside className={sidebarClasses}>\r\n       <div className=\"flex flex-col h-full\">\r\n-        <div className=\"mb-8 flex-shrink-0\">\r\n-          <Logo size=\"lg\" className=\"justify-center\" />\r\n+        {/* Header with collapse button (desktop only) */}\r\n+        <div className={clsx('mb-8 flex-shrink-0 flex items-center justify-between', isCollapsed && 'flex-col gap-4')}>\r\n+          {!isCollapsed ? (\r\n+            <Logo size=\"lg\" className=\"justify-center\" />\r\n+          ) : (\r\n+            <Logo size=\"sm\" className=\"justify-center\" />\r\n+          )}\r\n+          <button\r\n+            onClick={onToggleCollapse}\r\n+            className=\"hidden lg:flex items-center justify-center w-8 h-8 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors\"\r\n+            title={isCollapsed ? 'Expand sidebar' : 'Collapse sidebar'}\r\n+          >\r\n+            {isCollapsed ? <ChevronRight className=\"h-5 w-5\" /> : <ChevronLeft className=\"h-5 w-5\" />}\r\n+          </button>\r\n         </div>\r\n \r\n-        <nav className=\"flex-1 overflow-y-auto space-y-2 pr-2 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600 scrollbar-track-transparent hover:scrollbar-thumb-gray-400 dark:hover:scrollbar-thumb-gray-500\">\r\n-          {(user?.role === 'admin' ? adminNavItems : user?.role === 'staff' ? staffNavItems : clientNavItems).map(({ icon: Icon, label, path }) => {\r\n+        <nav className=\"flex-1 overflow-y-auto space-y-2\">\r\n+          {currentNavItems.map(({ icon: Icon, label, path }) => {\r\n             const isActive = location.pathname === path;\r\n             return (\r\n               <button\r\n                 key={path}\r\n                 onClick={() => navigate(path)}\r\n-                   className={clsx(\r\n-                     'flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-left transition-colors hover-lift',\r\n-                     isActive\r\n-                       ? 'bg-gradient-to-r from-navy-500 to-navy-600 text-white shadow-lg'\r\n-                       : 'text-text-primary dark:text-text-secondary hover:bg-mint-100 dark:hover:bg-mint-700'\r\n-                   )}\r\n+                className={clsx(\r\n+                  'flex items-center w-full rounded-lg text-left transition-colors hover-lift',\r\n+                  isCollapsed ? 'px-2 py-3 justify-center' : 'px-3 py-2 space-x-3',\r\n+                  isActive\r\n+                    ? 'bg-gradient-to-r from-navy-500 to-navy-600 text-white shadow-lg'\r\n+                    : 'text-text-primary dark:text-text-secondary hover:bg-mint-100 dark:hover:bg-mint-700'\r\n+                )}\r\n+                title={isCollapsed ? label : undefined}\r\n               >\r\n                 <Icon className=\"h-5 w-5 flex-shrink-0\" />\r\n-                <span className=\"font-medium truncate\">{label}</span>\r\n+                {!isCollapsed && <span className=\"font-medium truncate\">{label}</span>}\r\n               </button>\r\n             );\r\n           })}\r\n         </nav>\r\n \r\n         <div className=\"mt-auto space-y-2 flex-shrink-0\">\r\n           <button\r\n             onClick={() => navigate('/settings')}\r\n-            className=\"flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover-lift\"\r\n+            className={clsx(\r\n+              'flex items-center w-full px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover-lift',\r\n+              isCollapsed && 'justify-center px-2'\r\n+            )}\r\n+            title={isCollapsed ? 'Settings' : undefined}\r\n           >\r\n-            <Settings className=\"h-5 w-5\" />\r\n-            <span className=\"font-medium\">Settings</span>\r\n+            <Settings className=\"h-5 w-5 flex-shrink-0\" />\r\n+            {!isCollapsed && <span className=\"font-medium\">Settings</span>}\r\n           </button>\r\n           \r\n           {user && (\r\n             <button\r\n               onClick={() => navigate('/login')}\r\n-              className=\"flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover-lift\"\r\n+              className={clsx(\r\n+                'flex items-center w-full px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover-lift',\r\n+                isCollapsed && 'justify-center px-2'\r\n+              )}\r\n+              title={isCollapsed ? 'Logout' : undefined}\r\n             >\r\n-              <ArrowRightFromLine className=\"h-5 w-5\" />\r\n-              <span className=\"font-medium\">Logout</span>\r\n+              <ArrowRightFromLine className=\"h-5 w-5 flex-shrink-0\" />\r\n+              {!isCollapsed && <span className=\"font-medium\">Logout</span>}\r\n             </button>\r\n           )}\r\n         </div>\r\n       </div>\r\n"
                },
                {
                    "date": 1761650023296,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -90,9 +90,9 @@\n                 )}\r\n                 title={isCollapsed ? label : undefined}\r\n               >\r\n                 <Icon className=\"h-5 w-5 flex-shrink-0\" />\r\n-                {!isCollapsed && <span className=\"font-medium truncate\">{label}</span>}\r\n+                {!isCollapsed && <span className=\"font-bold truncate\">{label}</span>}\r\n               </button>\r\n             );\r\n           })}\r\n         </nav>\r\n@@ -106,9 +106,9 @@\n             )}\r\n             title={isCollapsed ? 'Settings' : undefined}\r\n           >\r\n             <Settings className=\"h-5 w-5 flex-shrink-0\" />\r\n-            {!isCollapsed && <span className=\"font-medium\">Settings</span>}\r\n+            {!isCollapsed && <span className=\"font-bold\">Settings</span>}\r\n           </button>\r\n           \r\n           {user && (\r\n             <button\r\n@@ -119,9 +119,9 @@\n               )}\r\n               title={isCollapsed ? 'Logout' : undefined}\r\n             >\r\n               <ArrowRightFromLine className=\"h-5 w-5 flex-shrink-0\" />\r\n-              {!isCollapsed && <span className=\"font-medium\">Logout</span>}\r\n+              {!isCollapsed && <span className=\"font-bold\">Logout</span>}\r\n             </button>\r\n           )}\r\n         </div>\r\n       </div>\r\n"
                },
                {
                    "date": 1761652949210,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,23 +76,66 @@\n \r\n         <nav className=\"flex-1 overflow-y-auto space-y-2\">\r\n           {currentNavItems.map(({ icon: Icon, label, path }) => {\r\n             const isActive = location.pathname === path;\r\n+            \r\n+            // Role-based hover colors\r\n+            const getHoverColor = () => {\r\n+              if (user?.role === 'admin') {\r\n+                return 'hover:bg-navy-50 dark:hover:bg-navy-900/30 hover:border-navy-200 dark:hover:border-navy-700';\r\n+              } else if (user?.role === 'staff') {\r\n+                return 'hover:bg-eco-50 dark:hover:bg-eco-900/30 hover:border-eco-200 dark:hover:border-eco-700';\r\n+              }\r\n+              return 'hover:bg-mint-100 dark:hover:bg-mint-700';\r\n+            };\r\n+            \r\n+            const getActiveColor = () => {\r\n+              if (user?.role === 'admin') {\r\n+                return 'bg-gradient-to-r from-navy-500 to-navy-600 text-white shadow-lg border-l-4 border-yellow-400';\r\n+              } else if (user?.role === 'staff') {\r\n+                return 'bg-gradient-to-r from-eco-500 to-eco-600 text-white shadow-lg border-l-4 border-signal-400';\r\n+              }\r\n+              return 'bg-gradient-to-r from-navy-500 to-navy-600 text-white shadow-lg';\r\n+            };\r\n+            \r\n             return (\r\n               <button\r\n                 key={path}\r\n                 onClick={() => navigate(path)}\r\n                 className={clsx(\r\n-                  'flex items-center w-full rounded-lg text-left transition-colors hover-lift',\r\n+                  'flex items-center w-full rounded-lg text-left transition-all duration-300 border-2 border-transparent group relative overflow-hidden',\r\n                   isCollapsed ? 'px-2 py-3 justify-center' : 'px-3 py-2 space-x-3',\r\n                   isActive\r\n-                    ? 'bg-gradient-to-r from-navy-500 to-navy-600 text-white shadow-lg'\r\n-                    : 'text-text-primary dark:text-text-secondary hover:bg-mint-100 dark:hover:bg-mint-700'\r\n+                    ? getActiveColor()\r\n+                    : clsx(\r\n+                        'text-text-primary dark:text-text-secondary',\r\n+                        getHoverColor()\r\n+                      )\r\n                 )}\r\n                 title={isCollapsed ? label : undefined}\r\n               >\r\n-                <Icon className=\"h-5 w-5 flex-shrink-0\" />\r\n-                {!isCollapsed && <span className=\"font-bold truncate\">{label}</span>}\r\n+                {/* Hover background effect */}\r\n+                <div className={clsx(\r\n+                  'absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300',\r\n+                  user?.role === 'admin' && 'bg-navy-100 dark:bg-navy-900/20',\r\n+                  user?.role === 'staff' && 'bg-eco-100 dark:bg-eco-900/20'\r\n+                )}></div>\r\n+                \r\n+                <Icon className={clsx(\r\n+                  'h-5 w-5 flex-shrink-0 relative z-10 transition-transform duration-300',\r\n+                  !isActive && 'group-hover:scale-110',\r\n+                  isActive && 'drop-shadow-lg'\r\n+                )} />\r\n+                {!isCollapsed && <span className=\"font-bold truncate relative z-10\">{label}</span>}\r\n+                \r\n+                {/* Active indicator dot */}\r\n+                {isActive && (\r\n+                  <div className={clsx(\r\n+                    'absolute right-2 top-1/2 -translate-y-1/2 w-2 h-2 rounded-full animate-pulse',\r\n+                    user?.role === 'admin' && 'bg-yellow-400',\r\n+                    user?.role === 'staff' && 'bg-signal-400'\r\n+                  )}></div>\r\n+                )}\r\n               </button>\r\n             );\r\n           })}\r\n         </nav>\r\n"
                },
                {
                    "date": 1761717622024,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -104,38 +104,18 @@\n                 className={clsx(\r\n                   'flex items-center w-full rounded-lg text-left transition-all duration-300 border-2 border-transparent group relative overflow-hidden',\r\n                   isCollapsed ? 'px-2 py-3 justify-center' : 'px-3 py-2 space-x-3',\r\n                   isActive\r\n-                    ? getActiveColor()\r\n-                    : clsx(\r\n-                        'text-text-primary dark:text-text-secondary',\r\n-                        getHoverColor()\r\n-                      )\r\n+                    ? 'bg-gradient-to-r from-navy-500 to-navy-600 text-white shadow-lg border-l-4 border-yellow-400'\r\n+                    : 'text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800'\r\n                 )}\r\n                 title={isCollapsed ? label : undefined}\r\n               >\r\n-                {/* Hover background effect */}\r\n-                <div className={clsx(\r\n-                  'absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300',\r\n-                  user?.role === 'admin' && 'bg-navy-100 dark:bg-navy-900/20',\r\n-                  user?.role === 'staff' && 'bg-eco-100 dark:bg-eco-900/20'\r\n-                )}></div>\r\n-                \r\n                 <Icon className={clsx(\r\n-                  'h-5 w-5 flex-shrink-0 relative z-10 transition-transform duration-300',\r\n-                  !isActive && 'group-hover:scale-110',\r\n-                  isActive && 'drop-shadow-lg'\r\n+                  'h-5 w-5 flex-shrink-0 transition-transform duration-300',\r\n+                  !isActive && 'group-hover:scale-110'\r\n                 )} />\r\n-                {!isCollapsed && <span className=\"font-bold truncate relative z-10\">{label}</span>}\r\n-                \r\n-                {/* Active indicator dot */}\r\n-                {isActive && (\r\n-                  <div className={clsx(\r\n-                    'absolute right-2 top-1/2 -translate-y-1/2 w-2 h-2 rounded-full animate-pulse',\r\n-                    user?.role === 'admin' && 'bg-yellow-400',\r\n-                    user?.role === 'staff' && 'bg-signal-400'\r\n-                  )}></div>\r\n-                )}\r\n+                {!isCollapsed && <span className=\"font-bold truncate\">{label}</span>}\r\n               </button>\r\n             );\r\n           })}\r\n         </nav>\r\n"
                },
                {
                    "date": 1761717652083,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -77,44 +77,22 @@\n         <nav className=\"flex-1 overflow-y-auto space-y-2\">\r\n           {currentNavItems.map(({ icon: Icon, label, path }) => {\r\n             const isActive = location.pathname === path;\r\n             \r\n-            // Role-based hover colors\r\n-            const getHoverColor = () => {\r\n-              if (user?.role === 'admin') {\r\n-                return 'hover:bg-navy-50 dark:hover:bg-navy-900/30 hover:border-navy-200 dark:hover:border-navy-700';\r\n-              } else if (user?.role === 'staff') {\r\n-                return 'hover:bg-eco-50 dark:hover:bg-eco-900/30 hover:border-eco-200 dark:hover:border-eco-700';\r\n-              }\r\n-              return 'hover:bg-mint-100 dark:hover:bg-mint-700';\r\n-            };\r\n-            \r\n-            const getActiveColor = () => {\r\n-              if (user?.role === 'admin') {\r\n-                return 'bg-gradient-to-r from-navy-500 to-navy-600 text-white shadow-lg border-l-4 border-yellow-400';\r\n-              } else if (user?.role === 'staff') {\r\n-                return 'bg-gradient-to-r from-eco-500 to-eco-600 text-white shadow-lg border-l-4 border-signal-400';\r\n-              }\r\n-              return 'bg-gradient-to-r from-navy-500 to-navy-600 text-white shadow-lg';\r\n-            };\r\n-            \r\n             return (\r\n               <button\r\n                 key={path}\r\n                 onClick={() => navigate(path)}\r\n                 className={clsx(\r\n-                  'flex items-center w-full rounded-lg text-left transition-all duration-300 border-2 border-transparent group relative overflow-hidden',\r\n+                  'flex items-center w-full rounded-lg text-left transition-all duration-300',\r\n                   isCollapsed ? 'px-2 py-3 justify-center' : 'px-3 py-2 space-x-3',\r\n                   isActive\r\n-                    ? 'bg-gradient-to-r from-navy-500 to-navy-600 text-white shadow-lg border-l-4 border-yellow-400'\r\n+                    ? 'bg-gray-800 dark:bg-gray-700 text-white shadow-md'\r\n                     : 'text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800'\r\n                 )}\r\n                 title={isCollapsed ? label : undefined}\r\n               >\r\n-                <Icon className={clsx(\r\n-                  'h-5 w-5 flex-shrink-0 transition-transform duration-300',\r\n-                  !isActive && 'group-hover:scale-110'\r\n-                )} />\r\n+                <Icon className=\"h-5 w-5 flex-shrink-0\" />\r\n                 {!isCollapsed && <span className=\"font-bold truncate\">{label}</span>}\r\n               </button>\r\n             );\r\n           })}\r\n"
                },
                {
                    "date": 1761717680371,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -101,9 +101,9 @@\n         <div className=\"mt-auto space-y-2 flex-shrink-0\">\r\n           <button\r\n             onClick={() => navigate('/settings')}\r\n             className={clsx(\r\n-              'flex items-center w-full px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover-lift',\r\n+              'flex items-center w-full px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800',\r\n               isCollapsed && 'justify-center px-2'\r\n             )}\r\n             title={isCollapsed ? 'Settings' : undefined}\r\n           >\r\n@@ -114,9 +114,9 @@\n           {user && (\r\n             <button\r\n               onClick={() => navigate('/login')}\r\n               className={clsx(\r\n-                'flex items-center w-full px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover-lift',\r\n+                'flex items-center w-full px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800',\r\n                 isCollapsed && 'justify-center px-2'\r\n               )}\r\n               title={isCollapsed ? 'Logout' : undefined}\r\n             >\r\n"
                },
                {
                    "date": 1761807218431,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,8 +18,9 @@\n \r\n interface SidebarProps {\r\n   isCollapsed?: boolean;\r\n   onToggleCollapse?: () => void;\r\n+  fullHeight?: boolean; // mobile dropdown sets this to false so it doesn't take screen height\r\n }\r\n \r\n // Admin navigation items\r\n const adminNavItems = [\r\n@@ -41,17 +42,19 @@\n \r\n // Client navigation (clients don't use the UI; keep empty to avoid showing menu)\r\n const clientNavItems: any[] = [];\r\n \r\n-export const Sidebar: React.FC<SidebarProps> = ({ isCollapsed = false, onToggleCollapse }) => {\r\n+export const Sidebar: React.FC<SidebarProps> = ({ isCollapsed = false, onToggleCollapse, fullHeight = true }) => {\r\n   const location = useLocation();\r\n   const navigate = useNavigate();\r\n   const { user } = useApp();\r\n \r\n+  // Let Layout control fixed positioning and visibility. Sidebar itself stays relative\r\n   const sidebarClasses = clsx(\r\n-    'h-full glass-sidebar transition-all duration-300 fixed left-0 top-0 bottom-0 lg:relative',\r\n+    fullHeight && 'h-full',\r\n+    'glass-sidebar transition-all duration-300 relative',\r\n     isCollapsed ? 'px-2 py-4' : 'px-6 py-4',\r\n-    !user && 'translate-x-full lg:translate-x-0'\r\n+    !user && 'lg:translate-x-0'\r\n   );\r\n \r\n   const currentNavItems = user?.role === 'admin' ? adminNavItems : user?.role === 'staff' ? staffNavItems : clientNavItems;\r\n \r\n"
                },
                {
                    "date": 1761810318089,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -94,9 +94,9 @@\n                 )}\r\n                 title={isCollapsed ? label : undefined}\r\n               >\r\n                 <Icon className=\"h-5 w-5 flex-shrink-0\" />\r\n-                {!isCollapsed && <span className=\"font-bold truncate\">{label}</span>}\r\n+                {!isCollapsed && <span className=\"font-bold truncate text-base md:text-sm\">{label}</span>}\r\n               </button>\r\n             );\r\n           })}\r\n         </nav>\r\n"
                },
                {
                    "date": 1761910389792,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,8 +19,9 @@\n interface SidebarProps {\r\n   isCollapsed?: boolean;\r\n   onToggleCollapse?: () => void;\r\n   fullHeight?: boolean; // mobile dropdown sets this to false so it doesn't take screen height\r\n+  onNavigate?: () => void; // callback to close mobile sidebar when navigating\r\n }\r\n \r\n // Admin navigation items\r\n const adminNavItems = [\r\n@@ -42,9 +43,9 @@\n \r\n // Client navigation (clients don't use the UI; keep empty to avoid showing menu)\r\n const clientNavItems: any[] = [];\r\n \r\n-export const Sidebar: React.FC<SidebarProps> = ({ isCollapsed = false, onToggleCollapse, fullHeight = true }) => {\r\n+export const Sidebar: React.FC<SidebarProps> = ({ isCollapsed = false, onToggleCollapse, fullHeight = true, onNavigate }) => {\r\n   const location = useLocation();\r\n   const navigate = useNavigate();\r\n   const { user } = useApp();\r\n \r\n@@ -83,9 +84,12 @@\n             \r\n             return (\r\n               <button\r\n                 key={path}\r\n-                onClick={() => navigate(path)}\r\n+                onClick={() => {\r\n+                  navigate(path);\r\n+                  onNavigate?.(); // Close mobile sidebar after navigation\r\n+                }}\r\n                 className={clsx(\r\n                   'flex items-center w-full rounded-lg text-left transition-all duration-300',\r\n                   isCollapsed ? 'px-2 py-3 justify-center' : 'px-3 py-2 space-x-3',\r\n                   isActive\r\n@@ -102,9 +106,12 @@\n         </nav>\r\n \r\n         <div className=\"mt-auto space-y-2 flex-shrink-0\">\r\n           <button\r\n-            onClick={() => navigate('/settings')}\r\n+            onClick={() => {\r\n+              navigate('/settings');\r\n+              onNavigate?.();\r\n+            }}\r\n             className={clsx(\r\n               'flex items-center w-full px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800',\r\n               isCollapsed && 'justify-center px-2'\r\n             )}\r\n"
                },
                {
                    "date": 1761910462148,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -122,9 +122,12 @@\n           </button>\r\n           \r\n           {user && (\r\n             <button\r\n-              onClick={() => navigate('/login')}\r\n+              onClick={() => {\r\n+                navigate('/login');\r\n+                onNavigate?.();\r\n+              }}\r\n               className={clsx(\r\n                 'flex items-center w-full px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-800',\r\n                 isCollapsed && 'justify-center px-2'\r\n               )}\r\n"
                }
            ],
            "date": 1759565584037,
            "name": "Commit-0",
            "content": "import React from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport { clsx } from 'clsx';\r\nimport {\r\n  LayoutDashboard,\r\n  Package,\r\n  Truck,\r\n  MapPin,\r\n  BarChart3,\r\n  Users,\r\n  FileText,\r\n  Settings,\r\n  UserPlus,\r\n  ArrowRightFromLine,\r\n} from 'lucide-react';\r\nimport { useApp } from '../context/AppContext';\r\n\r\nconst navItems = [\r\n  { icon: LayoutDashboard, label: 'Dashboard', path: '/dashboard', adminOnly: false },\r\n  { icon: Package, label: 'Source Records', path: '/source-records', adminOnly: false },\r\n  { icon: Truck, label: 'Transport Log', path: '/transport-log', adminOnly: false },\r\n  { icon: MapPin, label: 'Destination Records', path: '/destination-records', adminOnly: false },\r\n  { icon: BarChart3, label: 'Profit Reports', path: '/profit-reports', adminOnly: true },\r\n  { icon: Users, label: 'Buyers', path: '/buyers', adminOnly: true },\r\n  { icon: UserPlus, label: 'Drivers', path: '/drivers', adminOnly: true },\r\n];\r\n\r\nexport const Sidebar: React.FC = () => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const { user, isDark, setIsDark } = useApp();\r\n\r\n  const sidebarClasses = clsx(\r\n    'w-64 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 px-6 py-4 fixed left-0 top-0 h-full transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0',\r\n    '[&.mobile-closed]:transform [&.mobile-closed]:-translate-x-full lg:[&.mobile-closed]:translate-x-0',\r\n    !user && 'translate-x-full lg:translate-x-0'\r\n  );\r\n\r\n  return (\r\n    <aside className={sidebarClasses}>\r\n      <div className=\"mb-8\">\r\n        <img src=\"/vite.svg\" alt=\"Logo\" className=\"h-8 w-8 mx-auto mb-2\" />\r\n        <h1 className=\"text-xl font-bold text-gray-900 dark:text-gray-100 text-center\">\r\n          Mwalimu Transporters\r\n        </h1>\r\n      </div>\r\n\r\n      <nav className=\"space-y-2\">\r\n        {navItems.map(({ icon: Icon, label, path, adminOnly }) => {\r\n          if (adminOnly && user?.role !== 'admin') return null;\r\n          \r\n          const isActive = location.pathname === path;\r\n          return (\r\n            <button\r\n              key={path}\r\n              onClick={() => navigate(path)}\r\n              className={clsx(\r\n                'flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-left transition-colors',\r\n                isActive\r\n                  ? 'bg-bright-green text-white'\r\n                  : 'text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700'\r\n              )}\r\n            >\r\n              <Icon className=\"h-5 w-5\" />\r\n              <span className=\"font-medium\">{label}</span>\r\n            </button>\r\n          );\r\n        })}\r\n      </nav>\r\n\r\n      <div className=\"mt-auto space-y-2\">\r\n        <button\r\n          onClick={() => setIsDark(!isDark)}\r\n          className=\"flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700\"\r\n        >\r\n          <Settings className=\"h-5 w-5\" />\r\n          <span className=\"font-medium\">Settings</span>\r\n        </button>\r\n        \r\n        {user && (\r\n          <button\r\n            onClick={() => navigate('/login')}\r\n            className=\"flex items-center space-x-3 w-full px-3 py-2 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700\"\r\n          >\r\n            <ArrowRightFromLine className=\"h-5 w-5\" />\r\n            <span className=\"font-medium\">Logout</span>\r\n          </button>\r\n        )}\r\n      </div>\r\n    </aside>\r\n  );\r\n};\r\n"
        }
    ]
}